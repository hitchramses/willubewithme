<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Will U Be With Me ğŸ’•</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Quicksand:wght@400;600;700&family=Pacifico&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { overflow-x: hidden; }
        body { font-family: 'Quicksand', sans-serif; background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); color: #fff; min-height: 100vh; overflow-x: hidden; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }
        .page { display: none; }
        .page.active { display: block; }
        .floating-hearts { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 0; overflow: hidden; }
        .floating-heart { position: absolute; opacity: 0.15; animation: floatUp 8s ease-in infinite; }
        @keyframes floatUp { 0% { transform: translateY(100vh) rotate(0deg); opacity: 0; } 10% { opacity: 0.15; } 90% { opacity: 0.15; } 100% { transform: translateY(-100px) rotate(360deg); opacity: 0; } }
        .site-header { position: fixed; top: 0; left: 0; right: 0; padding: 15px 40px; display: flex; justify-content: space-between; align-items: center; z-index: 1000; background: rgba(26, 26, 46, 0.95); backdrop-filter: blur(10px); border-bottom: 1px solid rgba(255,255,255,0.1); max-width: 100vw; }
        .logo { display: flex; align-items: center; gap: 12px; cursor: pointer; flex-shrink: 0; }
        .logo svg { filter: drop-shadow(0 4px 10px rgba(255,105,180,0.4)); flex-shrink: 0; }
        .logo-text { font-size: 1.2rem; font-weight: 700; white-space: nowrap; }
        .logo-text span { color: #ff69b4; font-family: 'Dancing Script', cursive; font-size: 1.4rem; }
        .header-right { display: flex; align-items: center; gap: 15px; }
        .lang-selector { background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); color: #fff; padding: 8px 12px; border-radius: 20px; font-family: 'Quicksand', sans-serif; }
        .lang-selector option { background: #1a1a2e; }
        .header-cta { background: linear-gradient(135deg, #ff69b4, #ff1493); color: #fff; padding: 10px 25px; border-radius: 30px; font-weight: 600; transition: all 0.3s; box-shadow: 0 5px 20px rgba(255,105,180,0.4); border: none; cursor: pointer; font-family: 'Quicksand', sans-serif; }
        .header-cta:hover { transform: translateY(-2px); box-shadow: 0 8px 30px rgba(255,105,180,0.5); }
        .btn-primary { background: linear-gradient(135deg, #ff69b4, #ff1493); color: #fff; padding: 16px 40px; border-radius: 50px; font-weight: 700; font-size: 1.05rem; transition: all 0.3s; box-shadow: 0 10px 30px rgba(255,105,180,0.4); display: inline-flex; align-items: center; gap: 10px; border: none; cursor: pointer; font-family: 'Quicksand', sans-serif; }
        .btn-primary:hover { transform: translateY(-3px); box-shadow: 0 15px 40px rgba(255,105,180,0.5); }
        .btn-secondary { background: rgba(255,255,255,0.1); color: #fff; padding: 14px 35px; border-radius: 50px; font-weight: 600; border: 2px solid rgba(255,255,255,0.2); cursor: pointer; transition: all 0.3s; font-family: 'Quicksand', sans-serif; }
        .btn-secondary:hover { background: rgba(255,255,255,0.15); border-color: rgba(255,255,255,0.4); }
        .hero { min-height: 100vh; display: flex; align-items: center; justify-content: center; padding: 100px 40px 60px; gap: 60px; position: relative; z-index: 1; }
        .hero-content { max-width: 550px; }
        .hero-badge { display: inline-block; background: rgba(255,105,180,0.2); padding: 8px 20px; border-radius: 30px; font-size: 0.9rem; margin-bottom: 25px; border: 1px solid rgba(255,105,180,0.3); }
        .hero h1 { font-size: 3.2rem; line-height: 1.15; margin-bottom: 20px; }
        .highlight { background: linear-gradient(135deg, #ff69b4, #ff1493); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .hero p { font-size: 1.15rem; line-height: 1.7; color: rgba(255,255,255,0.8); margin-bottom: 30px; }
        .hero-buttons { display: flex; gap: 15px; margin-bottom: 25px; flex-wrap: wrap; }
        .hero-price { font-size: 0.95rem; color: rgba(255,255,255,0.6); }
        .phone-frame { width: 280px; height: 500px; background: linear-gradient(145deg, #2a2a4a, #1a1a3a); border-radius: 40px; padding: 15px; box-shadow: 0 30px 60px rgba(0,0,0,0.4); }
        .phone-content { width: 100%; height: 100%; background: linear-gradient(135deg, #ffeef8, #fff); border-radius: 28px; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; padding: 20px; }
        .demo-photo { width: 80px; height: 95px; background: linear-gradient(135deg, #ff69b4, #ff1493); border-radius: 15px; display: flex; align-items: center; justify-content: center; font-size: 2rem; margin-bottom: 15px; }
        .demo-name { font-family: 'Pacifico', cursive; font-size: 1.6rem; color: #e91e63; margin-bottom: 5px; }
        .demo-question { color: #ff69b4; font-size: 0.9rem; font-weight: 600; margin-bottom: 20px; }
        .demo-buttons { display: flex; gap: 10px; }
        .demo-yes { background: linear-gradient(135deg, #ff69b4, #ff1493); color: #fff; padding: 10px 25px; border-radius: 25px; font-weight: 600; }
        .demo-no { background: #e0e0e0; color: #666; padding: 8px 18px; border-radius: 20px; font-size: 0.75rem; animation: shake 0.5s ease-in-out infinite; }
        @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-3px) rotate(-2deg); } 75% { transform: translateX(3px) rotate(2deg); } }
        section { padding: 80px 40px; position: relative; z-index: 1; }
        .section-title { text-align: center; margin-bottom: 50px; }
        .section-title h2 { font-size: 2.4rem; margin-bottom: 12px; }
        .section-title p { color: rgba(255,255,255,0.6); font-size: 1.1rem; }
        .stats-bar { display: flex; justify-content: center; gap: 60px; padding: 40px; background: rgba(255,105,180,0.1); border-top: 1px solid rgba(255,105,180,0.2); border-bottom: 1px solid rgba(255,105,180,0.2); }
        .stat { text-align: center; }
        .stat-number { font-size: 2.5rem; font-weight: 700; background: linear-gradient(135deg, #ff69b4, #ff1493); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .stat-label { font-size: 0.9rem; color: rgba(255,255,255,0.7); }
        .use-cases-grid { display: flex; flex-wrap: wrap; gap: 12px; justify-content: center; max-width: 900px; margin: 0 auto; padding: 0 10px; }
        .use-case { background: rgba(255,255,255,0.05); padding: 12px 20px; border-radius: 30px; display: flex; align-items: center; gap: 8px; border: 1px solid rgba(255,255,255,0.1); transition: all 0.3s; flex-shrink: 0; }
        .use-case:hover { background: rgba(255,105,180,0.15); border-color: rgba(255,105,180,0.3); transform: translateY(-2px); }
        .use-case h4 { font-size: 0.9rem; font-weight: 600; }
        .features-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 25px; max-width: 1100px; margin: 0 auto; }
        .feature-card { background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.08); border-radius: 20px; padding: 30px; text-align: center; transition: all 0.3s; }
        .feature-card:hover { background: rgba(255,255,255,0.06); transform: translateY(-5px); }
        .feature-icon { font-size: 2.5rem; margin-bottom: 15px; }
        .feature-card h3 { margin-bottom: 10px; font-size: 1.1rem; }
        .feature-card p { color: rgba(255,255,255,0.6); font-size: 0.9rem; line-height: 1.6; }
        .steps { display: flex; justify-content: center; gap: 40px; max-width: 900px; margin: 0 auto; }
        .step { text-align: center; flex: 1; max-width: 250px; }
        .step-number { width: 60px; height: 60px; background: linear-gradient(135deg, #ff69b4, #ff1493); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; font-weight: 700; margin: 0 auto 20px; box-shadow: 0 10px 30px rgba(255,105,180,0.4); }
        .step h3 { margin-bottom: 10px; }
        .step p { color: rgba(255,255,255,0.6); font-size: 0.9rem; }
        .reviews-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; max-width: 1200px; margin: 0 auto; }
        .review-card { background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.08); border-radius: 20px; padding: 25px; transition: all 0.3s; }
        .review-card:hover { transform: translateY(-3px); border-color: rgba(255,105,180,0.3); }
        .review-stars { color: #ffd700; margin-bottom: 12px; }
        .review-text { font-size: 0.9rem; line-height: 1.6; color: rgba(255,255,255,0.85); margin-bottom: 15px; font-style: italic; }
        .review-author { display: flex; align-items: center; gap: 12px; }
        .review-avatar { width: 40px; height: 40px; background: linear-gradient(135deg, #ff69b4, #ff1493); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.1rem; }
        .review-name { font-weight: 600; font-size: 0.9rem; }
        .review-result { font-size: 0.75rem; color: #4ade80; margin-top: 2px; }
        .review-date { font-size: 0.7rem; color: rgba(255,255,255,0.4); margin-top: 2px; }
        .pricing-grid { display: flex; justify-content: center; gap: 25px; max-width: 900px; margin: 0 auto; }
        .pricing-card { background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.1); border-radius: 25px; padding: 35px 30px; text-align: center; flex: 1; max-width: 280px; transition: all 0.3s; position: relative; }
        .pricing-card:hover { transform: translateY(-5px); }
        .pricing-card.popular { border-color: #ff69b4; box-shadow: 0 0 40px rgba(255,105,180,0.2); }
        .popular-badge { position: absolute; top: -12px; left: 50%; transform: translateX(-50%); background: linear-gradient(135deg, #ff69b4, #ff1493); padding: 5px 20px; border-radius: 20px; font-size: 0.75rem; font-weight: 700; }
        .pricing-icon { font-size: 2.5rem; margin-bottom: 15px; }
        .pricing-price { font-size: 2.5rem; font-weight: 700; background: linear-gradient(135deg, #ff69b4, #ff1493); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 20px; }
        .pricing-features { list-style: none; text-align: left; margin-bottom: 25px; }
        .pricing-features li { padding: 8px 0; font-size: 0.9rem; color: rgba(255,255,255,0.8); border-bottom: 1px solid rgba(255,255,255,0.05); }
        .pricing-btn { width: 100%; padding: 14px; background: linear-gradient(135deg, #ff69b4, #ff1493); color: #fff; border: none; border-radius: 30px; font-weight: 700; cursor: pointer; transition: all 0.3s; font-family: 'Quicksand', sans-serif; }
        .pricing-btn:hover { box-shadow: 0 10px 30px rgba(255,105,180,0.4); }
        .cta { text-align: center; padding: 100px 40px; }
        .cta h2 { font-size: 2.5rem; margin-bottom: 20px; }
        .cta p { color: rgba(255,255,255,0.7); max-width: 600px; margin: 0 auto 35px; font-size: 1.1rem; }
        .site-footer { text-align: center; padding: 40px; border-top: 1px solid rgba(255,255,255,0.1); color: rgba(255,255,255,0.5); font-size: 0.9rem; }
        .site-footer a { color: #ff69b4; text-decoration: none; }
        
        /* Social Proof Toasts */
        .social-proof-container {
            position: fixed;
            bottom: 20px;
            left: 20px;
            z-index: 9999;
            display: flex;
            flex-direction: column;
            gap: 10px;
            pointer-events: none;
        }
        .social-proof-toast {
            background: rgba(255, 255, 255, 0.98);
            border-radius: 12px;
            padding: 12px 16px;
            display: flex;
            align-items: center;
            gap: 12px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2), 0 0 0 1px rgba(0,0,0,0.05);
            animation: slideInToast 0.5s ease, fadeOutToast 0.5s ease 4.5s forwards;
            max-width: 320px;
            pointer-events: auto;
        }
        @keyframes slideInToast {
            from { transform: translateX(-120%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        @keyframes fadeOutToast {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(-120%); opacity: 0; }
        }
        .toast-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            flex-shrink: 0;
        }
        .toast-content {
            flex: 1;
        }
        .toast-title {
            font-size: 0.85rem;
            font-weight: 700;
            color: #1a1a2e;
            margin-bottom: 2px;
        }
        .toast-message {
            font-size: 0.75rem;
            color: #666;
        }
        .toast-time {
            font-size: 0.65rem;
            color: #999;
            margin-top: 2px;
        }
        .toast-icon {
            font-size: 1.5rem;
        }
        .toast-close {
            background: none;
            border: none;
            color: #999;
            cursor: pointer;
            padding: 4px;
            font-size: 1rem;
            line-height: 1;
        }
        .toast-close:hover { color: #666; }
        
        /* Toast types */
        .toast-created .toast-avatar { background: linear-gradient(135deg, #ff69b4, #ff1493); }
        .toast-yes .toast-avatar { background: linear-gradient(135deg, #4ade80, #22c55e); }
        .toast-viewing .toast-avatar { background: linear-gradient(135deg, #60a5fa, #3b82f6); }
        
        @media (max-width: 500px) {
            .social-proof-container { left: 10px; right: 10px; bottom: 10px; }
            .social-proof-toast { max-width: 100%; padding: 10px 12px; }
            .toast-avatar { width: 35px; height: 35px; font-size: 1rem; }
            .toast-title { font-size: 0.8rem; }
            .toast-message { font-size: 0.7rem; }
        }
        .editor-container { display: flex; min-height: 100vh; padding-top: 80px; }
        .editor-panel { width: 450px; padding: 30px; background: rgba(0,0,0,0.2); overflow-y: auto; max-height: calc(100vh - 80px); }
        .editor-section { margin-bottom: 25px; }
        .editor-section h3 { font-size: 1rem; margin-bottom: 15px; }
        .editor-section label { display: block; font-size: 0.85rem; color: rgba(255,255,255,0.7); margin-bottom: 8px; }
        .editor-section input[type="text"], .editor-section textarea, .editor-section select { width: 100%; padding: 12px 15px; border: 2px solid rgba(255,255,255,0.1); border-radius: 12px; background: rgba(255,255,255,0.05); color: #fff; font-family: 'Quicksand', sans-serif; margin-bottom: 12px; }
        .editor-section input:focus, .editor-section textarea:focus { outline: none; border-color: #ff69b4; }
        .editor-section textarea { min-height: 80px; resize: vertical; }
        .domain-input { display: flex; align-items: center; background: rgba(255,255,255,0.05); border: 2px solid rgba(255,255,255,0.1); border-radius: 12px; overflow: hidden; margin-bottom: 8px; }
        .domain-prefix { padding: 12px; color: rgba(255,255,255,0.5); font-size: 0.85rem; background: rgba(0,0,0,0.2); }
        .domain-input input { flex: 1; border: none !important; background: transparent !important; margin-bottom: 0 !important; }
        .domain-preview { font-size: 0.75rem; color: #ff69b4; margin-bottom: 15px; }
        .tier-indicator { background: linear-gradient(135deg, rgba(255,105,180,0.2), rgba(255,20,147,0.1)); border: 1px solid rgba(255,105,180,0.3); border-radius: 15px; padding: 15px; margin-bottom: 25px; }
        .current-tier { font-weight: 700; color: #ff69b4; }
        .tier-breakdown { display: flex; gap: 8px; margin-top: 8px; flex-wrap: wrap; }
        .breakdown-item { font-size: 0.7rem; background: rgba(255,255,255,0.1); padding: 3px 10px; border-radius: 15px; }
        .breakdown-item.hidden { display: none; }
        .vibe-options { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; }
        .vibe-option { padding: 12px 8px; border: 2px solid rgba(255,255,255,0.1); border-radius: 12px; text-align: center; cursor: pointer; transition: all 0.3s; font-size: 0.8rem; }
        .vibe-option:hover { border-color: rgba(255,105,180,0.5); }
        .vibe-option.selected { border-color: #ff69b4; background: rgba(255,105,180,0.15); }
        .vibe-option span { display: block; font-size: 1.3rem; margin-bottom: 5px; }
        .emoji-selector { display: flex; flex-wrap: wrap; gap: 6px; }
        .emoji-option { width: 38px; height: 38px; display: flex; align-items: center; justify-content: center; font-size: 1.2rem; background: rgba(255,255,255,0.05); border: 2px solid rgba(255,255,255,0.1); border-radius: 8px; cursor: pointer; transition: all 0.2s; }
        .emoji-option:hover { transform: scale(1.1); }
        .emoji-option.selected { border-color: #ff69b4; background: rgba(255,105,180,0.2); }
        .illustrations-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; }
        .illustration-option { background: rgba(255,255,255,0.05); border: 2px solid rgba(255,255,255,0.1); border-radius: 12px; padding: 10px 5px; text-align: center; cursor: pointer; transition: all 0.2s; }
        .illustration-option.selected { border-color: #ff69b4; background: rgba(255,105,180,0.15); }
        .illust-preview { font-size: 1.5rem; margin-bottom: 4px; }
        .illustration-option span { font-size: 0.6rem; color: rgba(255,255,255,0.7); }
        .photo-type-toggle { display: flex; gap: 8px; margin-bottom: 15px; }
        .photo-type-btn { flex: 1; padding: 10px; border: 2px solid rgba(255,255,255,0.1); background: rgba(255,255,255,0.05); color: #fff; border-radius: 10px; cursor: pointer; font-family: 'Quicksand', sans-serif; font-size: 0.8rem; transition: all 0.3s; }
        .photo-type-btn.active { border-color: #ff69b4; background: rgba(255,105,180,0.2); }
        .premium-badge { background: linear-gradient(135deg, #ffd700, #ffaa00); color: #000; font-size: 0.6rem; padding: 2px 8px; border-radius: 10px; font-weight: 700; margin-left: 5px; }
        .hidden { display: none !important; }
        .preview-panel { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 40px; position: sticky; top: 80px; height: calc(100vh - 80px); }
        .preview-phone { width: 300px; height: 600px; background: linear-gradient(145deg, #2a2a4a, #1a1a3a); border-radius: 45px; padding: 10px; box-shadow: 0 30px 60px rgba(0,0,0,0.4); }
        .preview-iframe { width: 100%; height: 100%; border: none; border-radius: 35px; background: #fff; }
        .preview-label { margin-top: 20px; font-size: 0.9rem; color: rgba(255,255,255,0.6); }
        .preview-toggle { display: flex; gap: 10px; margin-top: 15px; }
        .preview-toggle button { padding: 10px 25px; border: 2px solid rgba(255,255,255,0.2); background: transparent; color: #fff; border-radius: 25px; cursor: pointer; font-family: 'Quicksand', sans-serif; transition: all 0.3s; }
        .preview-toggle button.active { border-color: #ff69b4; background: rgba(255,105,180,0.2); }
        .continue-section { padding: 20px; border-top: 1px solid rgba(255,255,255,0.1); background: rgba(0,0,0,0.3); }
        .continue-btn { width: 100%; padding: 16px; background: linear-gradient(135deg, #ff69b4, #ff1493); color: #fff; border: none; border-radius: 15px; font-size: 1.1rem; font-weight: 700; cursor: pointer; font-family: 'Quicksand', sans-serif; transition: all 0.3s; display: flex; align-items: center; justify-content: center; gap: 10px; }
        .continue-btn:hover { transform: translateY(-2px); box-shadow: 0 10px 30px rgba(255,105,180,0.4); }
        .price-tag { background: rgba(255,255,255,0.2); padding: 4px 12px; border-radius: 20px; font-size: 0.9rem; }
        .checkout-container { max-width: 900px; margin: 0 auto; padding: 120px 40px 60px; display: grid; grid-template-columns: 1fr 1fr; gap: 40px; }
        .checkout-summary, .checkout-payment { background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.1); border-radius: 25px; padding: 35px; }
        .checkout-summary h2, .checkout-payment h2 { font-size: 1.4rem; margin-bottom: 25px; }
        .summary-item { display: flex; justify-content: space-between; padding: 12px 0; border-bottom: 1px solid rgba(255,255,255,0.05); }
        .summary-item.total { border-top: 2px solid rgba(255,105,180,0.3); margin-top: 15px; padding-top: 15px; font-weight: 700; font-size: 1.2rem; }
        .summary-preview { margin-top: 25px; padding: 20px; background: rgba(255,105,180,0.1); border-radius: 15px; }
        .summary-preview-title { font-size: 0.85rem; color: rgba(255,255,255,0.6); margin-bottom: 10px; }
        .summary-preview-box { background: linear-gradient(135deg, #ffeef8, #fff); border-radius: 12px; padding: 20px; text-align: center; color: #333; }
        .summary-preview-box .name { font-family: 'Pacifico', cursive; font-size: 1.3rem; color: #e91e63; margin-bottom: 5px; }
        .summary-preview-box .question { font-size: 0.85rem; color: #ff69b4; }
        .payment-form label { display: block; font-size: 0.85rem; color: rgba(255,255,255,0.7); margin-bottom: 8px; }
        .payment-form input { width: 100%; padding: 14px; border: 2px solid rgba(255,255,255,0.1); border-radius: 12px; background: rgba(255,255,255,0.05); color: #fff; font-family: 'Quicksand', sans-serif; margin-bottom: 18px; }
        .payment-form input:focus { outline: none; border-color: #ff69b4; }
        .card-row { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .pay-btn { width: 100%; padding: 16px; background: linear-gradient(135deg, #ff69b4, #ff1493); color: #fff; border: none; border-radius: 15px; font-size: 1.1rem; font-weight: 700; cursor: pointer; margin-top: 10px; font-family: 'Quicksand', sans-serif; transition: all 0.3s; }
        .pay-btn:hover { box-shadow: 0 10px 30px rgba(255,105,180,0.4); }
        .stripe-badge { display: flex; align-items: center; justify-content: center; gap: 8px; margin-top: 20px; font-size: 0.85rem; color: rgba(255,255,255,0.5); }
        .stripe-badge svg { height: 20px; }
        .success-container { max-width: 600px; margin: 0 auto; padding: 150px 40px 80px; text-align: center; }
        .success-icon { font-size: 5rem; margin-bottom: 25px; animation: bounce 1s ease-in-out infinite; }
        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }
        .success-container h1 { font-size: 2.8rem; margin-bottom: 15px; }
        .success-container > p { color: rgba(255,255,255,0.7); font-size: 1.1rem; margin-bottom: 40px; }
        .success-link-box { background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 20px; padding: 25px; margin-bottom: 30px; }
        .success-link-label { font-size: 0.9rem; color: rgba(255,255,255,0.6); margin-bottom: 12px; }
        .success-link { display: flex; gap: 10px; }
        .success-link input { flex: 1; padding: 14px; border: 2px solid rgba(255,105,180,0.3); border-radius: 12px; background: rgba(255,255,255,0.05); color: #ff69b4; font-family: 'Quicksand', sans-serif; font-weight: 600; }
        .copy-btn { padding: 14px 25px; background: linear-gradient(135deg, #ff69b4, #ff1493); color: #fff; border: none; border-radius: 12px; font-weight: 600; cursor: pointer; font-family: 'Quicksand', sans-serif; }
        .success-share { display: flex; gap: 15px; justify-content: center; margin-bottom: 30px; }
        .share-btn { padding: 14px 30px; border-radius: 30px; font-weight: 600; cursor: pointer; border: none; font-family: 'Quicksand', sans-serif; font-size: 1rem; transition: all 0.3s; }
        .share-btn.whatsapp { background: #25d366; color: #fff; }
        .share-btn.sms { background: #0088cc; color: #fff; }
        .share-btn:hover { transform: translateY(-2px); }
        .review-submission { background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.1); border-radius: 20px; padding: 30px; margin-top: 40px; text-align: left; }
        .review-submission h3 { text-align: center; margin-bottom: 20px; font-size: 1.2rem; }
        .star-rating { display: flex; justify-content: center; gap: 8px; margin-bottom: 20px; }
        .star-rating span { font-size: 2rem; cursor: pointer; opacity: 0.3; transition: all 0.2s; }
        .star-rating span:hover, .star-rating span.active { opacity: 1; transform: scale(1.1); }
        .review-submission textarea { width: 100%; padding: 15px; border: 2px solid rgba(255,255,255,0.1); border-radius: 12px; background: rgba(255,255,255,0.05); color: #fff; font-family: 'Quicksand', sans-serif; min-height: 100px; margin-bottom: 15px; resize: vertical; }
        .review-submission textarea:focus { outline: none; border-color: #ff69b4; }
        .submit-review-btn { width: 100%; padding: 14px; background: linear-gradient(135deg, #ffd700, #ffaa00); color: #000; border: none; border-radius: 12px; font-weight: 700; cursor: pointer; font-family: 'Quicksand', sans-serif; font-size: 1rem; }
        .submit-review-btn:hover { box-shadow: 0 10px 30px rgba(255,215,0,0.3); }
        @media (max-width: 1000px) { 
            .reviews-grid { grid-template-columns: repeat(2, 1fr); } 
        }
        @media (max-width: 800px) { 
            .site-header { padding: 12px 15px; }
            .logo-text { font-size: 1rem; }
            .logo-text span { font-size: 1.2rem; }
            .logo svg { width: 30px; height: 30px; }
            .header-cta { padding: 8px 16px; font-size: 0.85rem; }
            .lang-selector { padding: 6px 10px; font-size: 0.8rem; }
            .hero { flex-direction: column; text-align: center; padding: 100px 20px 40px; gap: 30px; min-height: auto; } 
            .hero h1 { font-size: 2rem; } 
            .hero p { font-size: 1rem; }
            .hero-badge { font-size: 0.8rem; padding: 6px 15px; }
            .hero-buttons { justify-content: center; }
            .btn-primary { padding: 14px 28px; font-size: 0.95rem; }
            .btn-secondary { padding: 12px 24px; font-size: 0.9rem; }
            .phone-frame { width: 240px; height: 420px; padding: 10px; border-radius: 30px; }
            .phone-content { border-radius: 22px; padding: 15px; }
            .demo-photo { width: 60px; height: 75px; font-size: 1.5rem; margin-bottom: 10px; }
            .demo-name { font-size: 1.3rem; }
            .demo-question { font-size: 0.8rem; margin-bottom: 15px; }
            .demo-yes { padding: 8px 20px; font-size: 0.8rem; }
            .demo-no { padding: 6px 14px; font-size: 0.7rem; }
            section { padding: 50px 20px; }
            .section-title h2 { font-size: 1.8rem; }
            .section-title p { font-size: 0.95rem; }
            .stats-bar { flex-wrap: wrap; gap: 20px; padding: 30px 20px; }
            .stat-number { font-size: 1.8rem; }
            .stat-label { font-size: 0.8rem; }
            .use-cases-grid { gap: 8px; }
            .use-case { padding: 10px 14px; }
            .use-case h4 { font-size: 0.8rem; }
            .features-grid { grid-template-columns: repeat(3, 1fr); gap: 12px; }
            .feature-card { padding: 18px 12px; }
            .feature-icon { font-size: 1.8rem; margin-bottom: 10px; }
            .feature-card h3 { font-size: 0.85rem; margin-bottom: 6px; }
            .feature-card p { font-size: 0.75rem; line-height: 1.4; }
            .steps { flex-direction: row; gap: 15px; flex-wrap: nowrap; }
            .step { flex: 1; min-width: 0; }
            .step-number { width: 45px; height: 45px; font-size: 1.1rem; margin-bottom: 12px; }
            .step h3 { font-size: 0.9rem; margin-bottom: 6px; }
            .step p { font-size: 0.75rem; }
            .reviews-grid { grid-template-columns: 1fr; gap: 15px; }
            .review-card { padding: 20px; }
            .review-text { font-size: 0.85rem; }
            .pricing-grid { flex-direction: column; align-items: center; gap: 20px; }
            .pricing-card { max-width: 100%; width: 100%; padding: 25px 20px; }
            .pricing-price { font-size: 2rem; }
            .cta { padding: 60px 20px; }
            .cta h2 { font-size: 1.8rem; }
            .cta p { font-size: 1rem; }
            .editor-container { flex-direction: column; } 
            .editor-panel { width: 100%; max-height: none; padding: 20px; order: 1; } 
            .preview-panel { position: relative; top: 0; height: auto; padding: 30px 20px; order: 0; }
            .preview-phone { width: 280px; height: 500px; }
            .preview-toggle { flex-wrap: wrap; justify-content: center; }
            .preview-toggle button { padding: 8px 18px; font-size: 0.85rem; }
            .editor-section h3 { font-size: 0.95rem; }
            .vibe-options { grid-template-columns: repeat(3, 1fr); gap: 8px; }
            .vibe-option { padding: 10px 5px; font-size: 0.75rem; }
            .vibe-option span { font-size: 1.1rem; }
            .illustrations-grid { grid-template-columns: repeat(4, 1fr); gap: 6px; }
            .illustration-option { padding: 8px 4px; }
            .illust-preview svg { width: 40px; height: 34px; }
            .illustration-option span { font-size: 0.55rem; }
            .emoji-selector { gap: 5px; }
            .emoji-option { width: 34px; height: 34px; font-size: 1rem; }
            .tier-indicator { padding: 12px; }
            .current-tier { font-size: 0.9rem; }
            .continue-section { padding: 15px; }
            .continue-btn { padding: 14px; font-size: 1rem; }
            .checkout-container { grid-template-columns: 1fr; padding: 100px 20px 40px; gap: 25px; }
            .checkout-summary, .checkout-payment { padding: 25px 20px; }
            .checkout-summary h2, .checkout-payment h2 { font-size: 1.2rem; }
            .pay-btn { padding: 14px; font-size: 1rem; }
            .success-container { padding: 120px 20px 60px; }
            .success-icon { font-size: 4rem; }
            .success-container h1 { font-size: 2rem; }
            .success-container > p { font-size: 1rem; }
            .success-link-box { padding: 20px 15px; }
            .success-link { flex-direction: column; gap: 10px; }
            .success-link input { text-align: center; }
            .copy-btn { width: 100%; }
            .success-share { flex-direction: column; gap: 10px; }
            .share-btn { width: 100%; }
            .review-submission { padding: 25px 20px; }
            .review-submission h3 { font-size: 1.1rem; }
            .star-rating span { font-size: 1.6rem; }
        }
        @media (max-width: 500px) {
            .features-grid { grid-template-columns: repeat(3, 1fr); gap: 8px; }
            .feature-card { padding: 12px 8px; }
            .feature-icon { font-size: 1.5rem; margin-bottom: 8px; }
            .feature-card h3 { font-size: 0.7rem; }
            .feature-card p { font-size: 0.65rem; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; }
            .steps { gap: 10px; }
            .step-number { width: 40px; height: 40px; font-size: 1rem; margin-bottom: 10px; }
            .step h3 { font-size: 0.8rem; }
            .step p { font-size: 0.7rem; }
        }
        @media (max-width: 400px) {
            .site-header { padding: 10px 12px; }
            .logo { gap: 8px; }
            .logo svg { width: 26px; height: 26px; }
            .logo-text { font-size: 0.85rem; }
            .logo-text span { font-size: 1rem; }
            .header-cta { padding: 6px 12px; font-size: 0.75rem; }
            .lang-selector { display: none; }
            .hero { padding: 90px 15px 30px; }
            .hero h1 { font-size: 1.7rem; }
            .hero p { font-size: 0.9rem; margin-bottom: 20px; }
            .hero-badge { font-size: 0.7rem; padding: 5px 12px; margin-bottom: 15px; }
            .btn-primary { padding: 12px 24px; font-size: 0.9rem; width: 100%; justify-content: center; }
            .btn-secondary { padding: 10px 20px; font-size: 0.85rem; width: 100%; }
            .hero-buttons { flex-direction: column; width: 100%; }
            .hero-price { font-size: 0.85rem; }
            .phone-frame { width: 220px; height: 380px; padding: 8px; border-radius: 25px; }
            .phone-content { border-radius: 18px; padding: 12px; }
            .demo-photo { width: 50px; height: 65px; font-size: 1.3rem; }
            .demo-name { font-size: 1.1rem; }
            .demo-question { font-size: 0.75rem; }
            .section-title h2 { font-size: 1.5rem; }
            .section-title p { font-size: 0.85rem; }
            .stats-bar { gap: 15px; padding: 25px 15px; }
            .stat { flex: 0 0 45%; }
            .stat-number { font-size: 1.5rem; }
            .stat-label { font-size: 0.75rem; }
            .use-case { padding: 8px 12px; }
            .use-case span { font-size: 0.9rem; }
            .use-case h4 { font-size: 0.75rem; }
            .features-grid { gap: 6px; }
            .feature-card { padding: 10px 6px; }
            .feature-icon { font-size: 1.3rem; margin-bottom: 6px; }
            .feature-card h3 { font-size: 0.6rem; }
            .feature-card p { font-size: 0.55rem; -webkit-line-clamp: 2; }
            .steps { gap: 8px; }
            .step-number { width: 35px; height: 35px; font-size: 0.9rem; margin-bottom: 8px; }
            .step h3 { font-size: 0.75rem; }
            .step p { font-size: 0.65rem; }
            .pricing-card { padding: 20px 15px; }
            .pricing-icon { font-size: 2rem; }
            .pricing-card h3 { font-size: 1.1rem; }
            .pricing-price { font-size: 1.8rem; }
            .pricing-features li { font-size: 0.8rem; padding: 6px 0; }
            .pricing-btn { padding: 12px; font-size: 0.9rem; }
            .cta h2 { font-size: 1.5rem; }
            .editor-panel { padding: 15px; }
            .editor-section { margin-bottom: 20px; }
            .domain-input { flex-direction: column; }
            .domain-prefix { text-align: center; padding: 10px; }
            .vibe-options { grid-template-columns: repeat(2, 1fr); }
            .illustrations-grid { grid-template-columns: repeat(2, 1fr); gap: 8px; }
            .illust-preview svg { width: 50px; height: 42px; }
            .illustration-option span { font-size: 0.65rem; }
            .preview-phone { width: 260px; height: 460px; }
            .checkout-container { padding: 90px 15px 30px; }
            .summary-item { font-size: 0.9rem; }
            .payment-form input { padding: 12px; }
            .card-row { grid-template-columns: 1fr; gap: 0; }
            .success-container { padding: 100px 15px 40px; }
            .success-icon { font-size: 3.5rem; }
            .success-container h1 { font-size: 1.7rem; }
        }
    </style>
</head>
<body>
    <div class="floating-hearts" id="floatingHearts"></div>
    <div class="social-proof-container" id="socialProofContainer"></div>
    <header class="site-header">
        <div class="logo" onclick="showPage('landing')">
            <svg viewBox="0 0 50 50" width="36" height="36"><defs><linearGradient id="heartGrad" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#ff69b4"/><stop offset="100%" style="stop-color:#ff1493"/></linearGradient></defs><path d="M25 45 L5 25 C-2 18 -2 8 8 4 C15 1 22 5 25 12 C28 5 35 1 42 4 C52 8 52 18 45 25 Z" fill="url(#heartGrad)"/><text x="25" y="30" text-anchor="middle" fill="white" font-size="16" font-weight="bold">?</text></svg>
            <div class="logo-text">Will <span>U</span> Be With Me</div>
        </div>
        <div class="header-right">
            <select class="lang-selector"><option>ğŸ‡¬ğŸ‡§ EN</option><option>ğŸ‡«ğŸ‡· FR</option><option>ğŸ‡ªğŸ‡¸ ES</option></select>
            <button class="header-cta" onclick="showPage('editor')">Create my page ğŸ’•</button>
        </div>
    </header>
    <!-- PAGE 1: LANDING -->
    <div id="landing" class="page">
        <section class="hero">
            <div class="hero-content">
                <div class="hero-badge">ğŸ’• Embrace the cringe, harvest the love</div>
                <h1>So cringy<br>it's <span class="highlight">irresistible</span></h1>
                <p>Create an ultra-cheesy page to ask THE question. Valentine, date, trip, marriage proposal... The NO button escapes when you try to click it ğŸ˜</p>
                <div class="hero-buttons">
                    <button class="btn-primary" onclick="showPage('editor')">Create my page â†’</button>
                    <button class="btn-secondary" onclick="document.getElementById('features').scrollIntoView({behavior:'smooth'})">See how it works</button>
                </div>
                <p class="hero-price">From <strong>â‚¬4.99</strong> â€¢ Ready in 2 minutes â€¢ 100% unapologetic</p>
            </div>
            <div class="hero-demo">
                <div class="phone-frame">
                    <div class="phone-content">
                        <div class="demo-photo">ğŸ’•</div>
                        <div style="font-size:1rem;margin-bottom:10px;">ğŸ’âœ¨ğŸ’•âœ¨ğŸ’</div>
                        <div class="demo-name">Marie</div>
                        <div class="demo-question">Would you be my Valentine? ğŸ’•</div>
                        <div class="demo-buttons"><div class="demo-yes">YES â™¥</div><div class="demo-no">no</div></div>
                    </div>
                </div>
            </div>
        </section>
        <div class="stats-bar">
            <div class="stat"><div class="stat-number">12,847</div><div class="stat-label">Pages created</div></div>
            <div class="stat"><div class="stat-number">100%</div><div class="stat-label">Said YES!</div></div>
            <div class="stat"><div class="stat-number">4.9/5</div><div class="stat-label">Average rating</div></div>
            <div class="stat"><div class="stat-number">28</div><div class="stat-label">Countries</div></div>
        </div>
        <section class="use-cases">
            <div class="section-title"><h2>For every occasion ğŸ¯</h2><p>Yes, even the most unexpected ones</p></div>
            <div class="use-cases-grid">
                <div class="use-case"><span>ğŸ’•</span><h4>Be my Valentine?</h4></div>
                <div class="use-case"><span>ğŸ’</span><h4>Marriage proposal</h4></div>
                <div class="use-case"><span>ğŸ¬</span><h4>Movie date?</h4></div>
                <div class="use-case"><span>âœˆï¸</span><h4>Trip together?</h4></div>
                <div class="use-case"><span>ğŸ </span><h4>Move in together?</h4></div>
                <div class="use-case"><span>ğŸ‘”</span><h4>Work promotion</h4></div>
                <div class="use-case"><span>ğŸ•</span><h4>Adopt a dog?</h4></div>
                <div class="use-case"><span>ğŸ‰</span><h4>Come to my party?</h4></div>
            </div>
        </section>
        <section class="features" id="features">
            <div class="section-title"><h2>Why it's genius(ly cringy)? ğŸ’˜</h2><p>Embrace the cheese, they'll melt</p></div>
            <div class="features-grid">
                <div class="feature-card"><div class="feature-icon">ğŸƒ</div><h3>The NO button escapes</h3><p>Impossible to click NO! The button runs away and shrinks.</p></div>
                <div class="feature-card"><div class="feature-icon">ğŸ˜³</div><h3>So cheesy it works</h3><p>Flying hearts, emojis everywhere, romantic music...</p></div>
                <div class="feature-card"><div class="feature-icon">ğŸ“±</div><h3>Perfect on mobile</h3><p>Send via SMS or WhatsApp. Watch them struggle live.</p></div>
                <div class="feature-card"><div class="feature-icon">ğŸ’¥</div><h3>Explosion of joy</h3><p>When it's YES: avalanche of emojis and your photo!</p></div>
                <div class="feature-card"><div class="feature-icon">ğŸµ</div><h3>Background music</h3><p>Add romantic music to push the cringe to the max.</p></div>
                <div class="feature-card"><div class="feature-icon">ğŸ“¸</div><h3>Your best photos</h3><p>Your photo on proposal, your kiss on response.</p></div>
            </div>
        </section>
        <section class="how-it-works">
            <div class="section-title"><h2>How does it work? âœ¨</h2><p>3 steps and you're done</p></div>
            <div class="steps">
                <div class="step"><div class="step-number">1</div><h3>Customize</h3><p>Add photos, choose colors, write your message</p></div>
                <div class="step"><div class="step-number">2</div><h3>Pay</h3><p>From â‚¬4.99. Secure payment via Stripe</p></div>
                <div class="step"><div class="step-number">3</div><h3>Send</h3><p>Get your link and send it! ğŸ’•</p></div>
            </div>
        </section>
        <section class="reviews-section" style="background:rgba(255,255,255,0.02);">
            <div class="section-title"><h2>They dared, they won ğŸ’ª</h2><p>Real reviews from real lovers</p></div>
            <div class="reviews-grid">
                <div class="review-card"><div class="review-stars">â­â­â­â­â­</div><p class="review-text">"She tried to click NO for 2 minutes before bursting out laughing!"</p><div class="review-author"><div class="review-avatar">ğŸ§‘</div><div><div class="review-name">Thomas, 24</div><div class="review-result">âœ“ Valentine accepted</div><div class="review-date">Feb 2024</div></div></div></div>
                <div class="review-card"><div class="review-stars">â­â­â­â­â­</div><p class="review-text">"Used for a Bali trip proposal. When our photo appeared... she cried!"</p><div class="review-author"><div class="review-avatar">ğŸ‘©</div><div><div class="review-name">LÃ©a, 27</div><div class="review-result">âœ“ Trip confirmed</div><div class="review-date">Jan 2024</div></div></div></div>
                <div class="review-card"><div class="review-stars">â­â­â­â­â­</div><p class="review-text">"My boss sent me this for a promotion. I clicked YES laughing!"</p><div class="review-author"><div class="review-avatar">ğŸ§”</div><div><div class="review-name">Karim, 32</div><div class="review-result">âœ“ +15% salary</div><div class="review-date">Dec 2023</div></div></div></div>
                <div class="review-card"><div class="review-stars">â­â­â­â­â­</div><p class="review-text">"Proposed to my girlfriend with this. We're now engaged! ğŸ’"</p><div class="review-author"><div class="review-avatar">ğŸ‘¨</div><div><div class="review-name">Marco, 29</div><div class="review-result">âœ“ She said YES!</div><div class="review-date">Feb 2024</div></div></div></div>
                <div class="review-card"><div class="review-stars">â­â­â­â­â­</div><p class="review-text">"Asked my roommate to adopt a cat. The escaping NO convinced him!"</p><div class="review-author"><div class="review-avatar">ğŸ‘§</div><div><div class="review-name">Emma, 23</div><div class="review-result">âœ“ We got Luna! ğŸ±</div><div class="review-date">Jan 2024</div></div></div></div>
                <div class="review-card"><div class="review-stars">â­â­â­â­â­</div><p class="review-text">"Sent to my long-distance boyfriend. He booked the flight laughing!"</p><div class="review-author"><div class="review-avatar">ğŸ‘©â€ğŸ¦°</div><div><div class="review-name">Sofia, 26</div><div class="review-result">âœ“ He's coming! âœˆï¸</div><div class="review-date">Feb 2024</div></div></div></div>
                <div class="review-card"><div class="review-stars">â­â­â­â­â­</div><p class="review-text">"Used it to invite my crush to prom. Best â‚¬5 ever spent!"</p><div class="review-author"><div class="review-avatar">ğŸ§‘â€ğŸ¦±</div><div><div class="review-name">Lucas, 17</div><div class="review-result">âœ“ Prom date!</div><div class="review-date">Jan 2024</div></div></div></div>
                <div class="review-card"><div class="review-stars">â­â­â­â­â­</div><p class="review-text">"Asked my wife for a puppy. Meet Max! ğŸ•"</p><div class="review-author"><div class="review-avatar">ğŸ‘¨â€ğŸ¦²</div><div><div class="review-name">David, 35</div><div class="review-result">âœ“ Puppy dad!</div><div class="review-date">Dec 2023</div></div></div></div>
            </div>
        </section>
        <section class="pricing">
            <div class="section-title"><h2>Choose your plan ğŸ’</h2><p>A small price for a big moment</p></div>
            <div class="pricing-grid">
                <div class="pricing-card"><div class="pricing-icon">ğŸ’•</div><h3>Basic</h3><div class="pricing-price">â‚¬4.99</div><ul class="pricing-features"><li>âœ“ Proposal + response page</li><li>âœ“ Cute illustrations</li><li>âœ“ Custom texts & emojis</li><li>âœ“ Escaping NO button</li><li>âœ“ Hosted 30 days</li></ul><button class="pricing-btn" onclick="showPage('editor')">Choose</button></div>
                <div class="pricing-card popular"><div class="popular-badge">â­ Popular</div><div class="pricing-icon">ğŸ“¸</div><h3>Photo+</h3><div class="pricing-price">â‚¬9.99</div><ul class="pricing-features"><li>âœ“ All Basic features +</li><li>âœ“ Your proposal photo</li><li>âœ“ Your couple photo ğŸ’‹</li><li>âœ“ 6 themes</li><li>âœ“ Hosted 1 year</li></ul><button class="pricing-btn" onclick="showPage('editor')">Choose</button></div>
                <div class="pricing-card"><div class="pricing-icon">ğŸµ</div><h3>Music</h3><div class="pricing-price">â‚¬14.99</div><ul class="pricing-features"><li>âœ“ All Photo+ features +</li><li>âœ“ Background music</li><li>âœ“ 15 romantic songs</li><li>âœ“ Custom sounds</li><li>âœ“ Hosted 1 year</li></ul><button class="pricing-btn" onclick="showPage('editor')">Choose</button></div>
            </div>
        </section>
        <section class="cta"><h2>Ready to embrace the <span class="highlight">cringe</span>?</h2><p>It's awkward, cheesy, full of emojis... and that's why it works! ğŸ¤</p><button class="btn-primary" onclick="showPage('editor')">Create my page now ğŸ’•</button></section>
        <footer class="site-footer">
            <p>Made with ğŸ’• by RamsesVibes</p>
            <p style="margin-top:8px;"><a href="/terms.html">Terms of Service</a> â€¢ <a href="/privacy.html">Privacy Policy</a> â€¢ <a href="/refund.html">Refund Policy</a> â€¢ <a href="/contact.html">Contact</a></p>
            <p style="margin-top:8px;font-size:0.8rem;opacity:0.7;">Â© 2024 RamsesVibes - Marseille, France</p>
        </footer>
    </div>
    <!-- PAGE 2: EDITOR -->
    <div id="editor" class="page">
        <div class="editor-container">
            <div class="editor-panel">
                <div class="tier-indicator"><div>Plan: <span class="current-tier" id="currentTier">Basic - â‚¬4.99</span></div><div class="tier-breakdown"><span class="breakdown-item">Basic â‚¬4.99</span><span class="breakdown-item hidden" id="breakdownPhotos">+ Photos â‚¬5</span><span class="breakdown-item hidden" id="breakdownMusic">+ Music â‚¬5</span></div></div>
                <div class="editor-section"><h3>Your page link ğŸ”—</h3><div class="domain-input"><span class="domain-prefix">willubewith.me/</span><input type="text" id="domainSlug" placeholder="ellina" oninput="updateDomain()"></div><div class="domain-preview" id="domainPreview">willubewith.me/your-name</div></div>
                <div class="editor-section"><h3>Theme ğŸ¨</h3><div class="vibe-options"><div class="vibe-option selected" onclick="selectVibe(this,'romantic')"><span>ğŸ’•</span>Romantic</div><div class="vibe-option" onclick="selectVibe(this,'elegant')"><span>âœ¨</span>Elegant</div><div class="vibe-option" onclick="selectVibe(this,'playful')"><span>ğŸ‰</span>Playful</div><div class="vibe-option" onclick="selectVibe(this,'minimal')"><span>ğŸ¤</span>Minimal</div><div class="vibe-option" onclick="selectVibe(this,'dark')"><span>ğŸ–¤</span>Dark</div><div class="vibe-option" onclick="selectVibe(this,'ocean')"><span>ğŸŒŠ</span>Ocean</div></div></div>
                <div class="editor-section"><h3>Texts âœï¸</h3><label>Person's name</label><input type="text" id="recipientName" placeholder="Ellina" oninput="updatePreview();autoFillDomain()"><label>Proposal question</label><input type="text" id="proposalQuestion" value="Would you be my Valentine?" oninput="updatePreview()"><label>Response message</label><textarea id="responseMessage" oninput="updatePreview()">You just made me the happiest person!</textarea><label>Celebration text</label><input type="text" id="celebrationText" value="Yaaay!" oninput="updatePreview()"><label>Love text</label><input type="text" id="loveText" value="I love you!" oninput="updatePreview()"></div>
                <div class="editor-section"><h3>Emojis ğŸ‰</h3><div class="emoji-selector">
                        <div class="emoji-option selected" data-emoji="ğŸ’•" onclick="toggleEmoji(this)">ğŸ’•</div>
                        <div class="emoji-option selected" data-emoji="ğŸ’—" onclick="toggleEmoji(this)">ğŸ’—</div>
                        <div class="emoji-option selected" data-emoji="ğŸ’–" onclick="toggleEmoji(this)">ğŸ’–</div>
                        <div class="emoji-option" data-emoji="â¤ï¸" onclick="toggleEmoji(this)">â¤ï¸</div>
                        <div class="emoji-option" data-emoji="ğŸ’" onclick="toggleEmoji(this)">ğŸ’</div>
                        <div class="emoji-option" data-emoji="ğŸ’“" onclick="toggleEmoji(this)">ğŸ’“</div>
                        <div class="emoji-option" data-emoji="ğŸ’˜" onclick="toggleEmoji(this)">ğŸ’˜</div>
                        <div class="emoji-option" data-emoji="ğŸ’" onclick="toggleEmoji(this)">ğŸ’</div>
                        <div class="emoji-option" data-emoji="ğŸ’Ÿ" onclick="toggleEmoji(this)">ğŸ’Ÿ</div>
                        <div class="emoji-option" data-emoji="â£ï¸" onclick="toggleEmoji(this)">â£ï¸</div>
                        <div class="emoji-option" data-emoji="ğŸ©·" onclick="toggleEmoji(this)">ğŸ©·</div>
                        <div class="emoji-option" data-emoji="ğŸ©µ" onclick="toggleEmoji(this)">ğŸ©µ</div>
                        <div class="emoji-option" data-emoji="ğŸ¤" onclick="toggleEmoji(this)">ğŸ¤</div>
                        <div class="emoji-option" data-emoji="ğŸ–¤" onclick="toggleEmoji(this)">ğŸ–¤</div>
                        <div class="emoji-option" data-emoji="âœ¨" onclick="toggleEmoji(this)">âœ¨</div>
                        <div class="emoji-option" data-emoji="â­" onclick="toggleEmoji(this)">â­</div>
                        <div class="emoji-option" data-emoji="ğŸŒŸ" onclick="toggleEmoji(this)">ğŸŒŸ</div>
                        <div class="emoji-option" data-emoji="ğŸ’«" onclick="toggleEmoji(this)">ğŸ’«</div>
                        <div class="emoji-option" data-emoji="ğŸ”¥" onclick="toggleEmoji(this)">ğŸ”¥</div>
                        <div class="emoji-option" data-emoji="ğŸ¦‹" onclick="toggleEmoji(this)">ğŸ¦‹</div>
                        <div class="emoji-option" data-emoji="ğŸŒ¸" onclick="toggleEmoji(this)">ğŸŒ¸</div>
                        <div class="emoji-option" data-emoji="ğŸŒº" onclick="toggleEmoji(this)">ğŸŒº</div>
                        <div class="emoji-option" data-emoji="ğŸŒ¹" onclick="toggleEmoji(this)">ğŸŒ¹</div>
                        <div class="emoji-option" data-emoji="ğŸŒ·" onclick="toggleEmoji(this)">ğŸŒ·</div>
                        <div class="emoji-option" data-emoji="ğŸ’" onclick="toggleEmoji(this)">ğŸ’</div>
                        <div class="emoji-option" data-emoji="ğŸ€" onclick="toggleEmoji(this)">ğŸ€</div>
                        <div class="emoji-option" data-emoji="ğŸ‰" onclick="toggleEmoji(this)">ğŸ‰</div>
                        <div class="emoji-option" data-emoji="ğŸŠ" onclick="toggleEmoji(this)">ğŸŠ</div>
                        <div class="emoji-option" data-emoji="ğŸ¥°" onclick="toggleEmoji(this)">ğŸ¥°</div>
                        <div class="emoji-option" data-emoji="ğŸ˜" onclick="toggleEmoji(this)">ğŸ˜</div>
                        <div class="emoji-option" data-emoji="ğŸ¤©" onclick="toggleEmoji(this)">ğŸ¤©</div>
                        <div class="emoji-option" data-emoji="ğŸ˜˜" onclick="toggleEmoji(this)">ğŸ˜˜</div>
                        <div class="emoji-option" data-emoji="ğŸ’‹" onclick="toggleEmoji(this)">ğŸ’‹</div>
                        <div class="emoji-option" data-emoji="ğŸ«¶" onclick="toggleEmoji(this)">ğŸ«¶</div>
                        <div class="emoji-option" data-emoji="ğŸ™Œ" onclick="toggleEmoji(this)">ğŸ™Œ</div>
                        <div class="emoji-option" data-emoji="ğŸ‘" onclick="toggleEmoji(this)">ğŸ‘</div>
                        <div class="emoji-option" data-emoji="ğŸ’ƒ" onclick="toggleEmoji(this)">ğŸ’ƒ</div>
                        <div class="emoji-option" data-emoji="ğŸ•º" onclick="toggleEmoji(this)">ğŸ•º</div>
                        <div class="emoji-option" data-emoji="ğŸ‘‘" onclick="toggleEmoji(this)">ğŸ‘‘</div>
                        <div class="emoji-option" data-emoji="ğŸ’" onclick="toggleEmoji(this)">ğŸ’</div>
                        <div class="emoji-option" data-emoji="ğŸ€" onclick="toggleEmoji(this)">ğŸ€</div>
                        <div class="emoji-option" data-emoji="ğŸŒˆ" onclick="toggleEmoji(this)">ğŸŒˆ</div>
                        <div class="emoji-option" data-emoji="â˜€ï¸" onclick="toggleEmoji(this)">â˜€ï¸</div>
                        <div class="emoji-option" data-emoji="ğŸŒ™" onclick="toggleEmoji(this)">ğŸŒ™</div>
                        <div class="emoji-option" data-emoji="âš¡" onclick="toggleEmoji(this)">âš¡</div>
                        <div class="emoji-option" data-emoji="â„ï¸" onclick="toggleEmoji(this)">â„ï¸</div>
                        <div class="emoji-option" data-emoji="ğŸ¾" onclick="toggleEmoji(this)">ğŸ¾</div>
                        <div class="emoji-option" data-emoji="ğŸ¥‚" onclick="toggleEmoji(this)">ğŸ¥‚</div>
                    </div></div>
                <div class="editor-section"><h3>Photos <span class="premium-badge">+â‚¬5</span></h3><div class="photo-type-toggle"><button class="photo-type-btn active" onclick="setPhotoType('illustration',this)">ğŸ¨ Illustration</button><button class="photo-type-btn" onclick="setPhotoType('upload',this)">ğŸ“· My photos</button></div><div id="illustrationsSection"><div class="illustrations-grid">
                            <div class="illustration-option selected" onclick="selectIllustration(this,'cats')">
                                <div class="illust-preview"><svg viewBox="0 0 60 50" width="50" height="42"><ellipse cx="18" cy="32" rx="12" ry="14" fill="#ffb6c1"/><ellipse cx="18" cy="22" rx="8" ry="7" fill="#ffb6c1"/><polygon points="11,17 13,24 16,18" fill="#ffb6c1"/><polygon points="20,18 23,24 25,17" fill="#ffb6c1"/><circle cx="15" cy="21" r="1.5" fill="#333"/><circle cx="21" cy="21" r="1.5" fill="#333"/><ellipse cx="18" cy="24" rx="1.5" ry="1" fill="#ff69b4"/><path d="M30 22 C30 18, 27 17, 25 19 C24 21, 30 28, 30 28 C30 28, 36 21, 35 19 C33 17, 30 18, 30 22" fill="#ff1493"/><ellipse cx="42" cy="32" rx="12" ry="14" fill="#ffd1dc"/><ellipse cx="42" cy="22" rx="8" ry="7" fill="#ffd1dc"/><polygon points="35,17 37,24 40,18" fill="#ffd1dc"/><polygon points="44,18 47,24 49,17" fill="#ffd1dc"/><circle cx="39" cy="21" r="1.5" fill="#333"/><circle cx="45" cy="21" r="1.5" fill="#333"/><ellipse cx="42" cy="24" rx="1.5" ry="1" fill="#ff69b4"/></svg></div>
                                <span>Love Cats</span>
                            </div>
                            <div class="illustration-option" onclick="selectIllustration(this,'bears')">
                                <div class="illust-preview"><svg viewBox="0 0 60 50" width="50" height="42"><circle cx="18" cy="30" rx="12" fill="#d2a679"/><circle cx="18" cy="20" rx="8" fill="#d2a679"/><circle cx="10" cy="14" r="4" fill="#d2a679"/><circle cx="26" cy="14" r="4" fill="#d2a679"/><circle cx="10" cy="14" r="2.5" fill="#c49a6c"/><circle cx="26" cy="14" r="2.5" fill="#c49a6c"/><circle cx="15" cy="19" r="1.5" fill="#333"/><circle cx="21" cy="19" r="1.5" fill="#333"/><ellipse cx="18" cy="23" rx="2.5" ry="2" fill="#c49a6c"/><circle cx="18" cy="22" r="1.5" fill="#333"/><path d="M30 20 C30 16, 27 15, 25 17 C24 19, 30 26, 30 26 C30 26, 36 19, 35 17 C33 15, 30 16, 30 20" fill="#ff1493"/><circle cx="42" cy="30" rx="12" fill="#e8c4a0"/><circle cx="42" cy="20" rx="8" fill="#e8c4a0"/><circle cx="34" cy="14" r="4" fill="#e8c4a0"/><circle cx="50" cy="14" r="4" fill="#e8c4a0"/><circle cx="34" cy="14" r="2.5" fill="#d4b08c"/><circle cx="50" cy="14" r="2.5" fill="#d4b08c"/><circle cx="39" cy="19" r="1.5" fill="#333"/><circle cx="45" cy="19" r="1.5" fill="#333"/><ellipse cx="42" cy="23" rx="2.5" ry="2" fill="#d4b08c"/><circle cx="42" cy="22" r="1.5" fill="#333"/></svg></div>
                                <span>Teddy Bears</span>
                            </div>
                            <div class="illustration-option" onclick="selectIllustration(this,'bunnies')">
                                <div class="illust-preview"><svg viewBox="0 0 60 50" width="50" height="42"><ellipse cx="18" cy="35" rx="10" ry="12" fill="#fff" stroke="#eee" stroke-width="0.5"/><ellipse cx="18" cy="26" rx="7" ry="6" fill="#fff" stroke="#eee" stroke-width="0.5"/><ellipse cx="13" cy="12" rx="3" ry="10" fill="#fff" stroke="#eee" stroke-width="0.5"/><ellipse cx="23" cy="12" rx="3" ry="10" fill="#fff" stroke="#eee" stroke-width="0.5"/><ellipse cx="13" cy="12" rx="1.5" ry="7" fill="#ffb6c1"/><ellipse cx="23" cy="12" rx="1.5" ry="7" fill="#ffb6c1"/><circle cx="15" cy="25" r="1.5" fill="#333"/><circle cx="21" cy="25" r="1.5" fill="#333"/><ellipse cx="18" cy="28" rx="1.5" ry="1" fill="#ffb6c1"/><path d="M30 22 C30 18, 27 17, 25 19 C24 21, 30 28, 30 28 C30 28, 36 21, 35 19 C33 17, 30 18, 30 22" fill="#ff1493"/><ellipse cx="42" cy="35" rx="10" ry="12" fill="#ffeef8" stroke="#eee" stroke-width="0.5"/><ellipse cx="42" cy="26" rx="7" ry="6" fill="#ffeef8" stroke="#eee" stroke-width="0.5"/><ellipse cx="37" cy="12" rx="3" ry="10" fill="#ffeef8" stroke="#eee" stroke-width="0.5"/><ellipse cx="47" cy="12" rx="3" ry="10" fill="#ffeef8" stroke="#eee" stroke-width="0.5"/><ellipse cx="37" cy="12" rx="1.5" ry="7" fill="#ffb6c1"/><ellipse cx="47" cy="12" rx="1.5" ry="7" fill="#ffb6c1"/><circle cx="39" cy="25" r="1.5" fill="#333"/><circle cx="45" cy="25" r="1.5" fill="#333"/><ellipse cx="42" cy="28" rx="1.5" ry="1" fill="#ffb6c1"/></svg></div>
                                <span>Bunnies</span>
                            </div>
                            <div class="illustration-option" onclick="selectIllustration(this,'penguins')">
                                <div class="illust-preview"><svg viewBox="0 0 60 50" width="50" height="42"><ellipse cx="18" cy="32" rx="10" ry="14" fill="#2c3e50"/><ellipse cx="18" cy="34" rx="6" ry="10" fill="#fff"/><ellipse cx="18" cy="22" rx="7" ry="6" fill="#2c3e50"/><circle cx="15" cy="21" r="1.5" fill="#fff"/><circle cx="21" cy="21" r="1.5" fill="#fff"/><circle cx="15" cy="21" r="0.8" fill="#333"/><circle cx="21" cy="21" r="0.8" fill="#333"/><polygon points="18,23 16,27 20,27" fill="#f39c12"/><path d="M30 20 C30 16, 27 15, 25 17 C24 19, 30 26, 30 26 C30 26, 36 19, 35 17 C33 15, 30 16, 30 20" fill="#ff1493"/><ellipse cx="42" cy="32" rx="10" ry="14" fill="#34495e"/><ellipse cx="42" cy="34" rx="6" ry="10" fill="#fff"/><ellipse cx="42" cy="22" rx="7" ry="6" fill="#34495e"/><circle cx="39" cy="21" r="1.5" fill="#fff"/><circle cx="45" cy="21" r="1.5" fill="#fff"/><circle cx="39" cy="21" r="0.8" fill="#333"/><circle cx="45" cy="21" r="0.8" fill="#333"/><polygon points="42,23 40,27 44,27" fill="#f39c12"/></svg></div>
                                <span>Penguins</span>
                            </div>
                            <div class="illustration-option" onclick="selectIllustration(this,'manga')">
                                <div class="illust-preview"><svg viewBox="0 0 60 50" width="50" height="42"><circle cx="18" cy="25" r="10" fill="#ffe4c4"/><ellipse cx="18" cy="35" rx="6" ry="8" fill="#ff69b4"/><path d="M10 18 Q12 10, 18 12 Q24 10, 26 18" fill="#4a3728"/><ellipse cx="14" cy="24" rx="2.5" ry="3" fill="#fff"/><ellipse cx="22" cy="24" rx="2.5" ry="3" fill="#fff"/><circle cx="14" cy="24" r="1.5" fill="#333"/><circle cx="22" cy="24" r="1.5" fill="#333"/><circle cx="14.5" cy="23.5" r="0.5" fill="#fff"/><circle cx="22.5" cy="23.5" r="0.5" fill="#fff"/><ellipse cx="12" cy="27" rx="2" ry="1" fill="#ffb6c1" opacity="0.6"/><ellipse cx="24" cy="27" rx="2" ry="1" fill="#ffb6c1" opacity="0.6"/><path d="M16 29 Q18 31 20 29" stroke="#e91e63" fill="none" stroke-width="0.8"/><path d="M30 22 C30 18, 27 17, 25 19 C24 21, 30 28, 30 28 C30 28, 36 21, 35 19 C33 17, 30 18, 30 22" fill="#ff1493"/><circle cx="42" cy="25" r="10" fill="#ffe4c4"/><ellipse cx="42" cy="35" rx="6" ry="8" fill="#4a90d9"/><path d="M34 16 Q38 12, 42 14 Q46 12, 50 16 L48 20 Q42 18, 36 20 Z" fill="#4a3728"/><ellipse cx="38" cy="24" rx="2.5" ry="3" fill="#fff"/><ellipse cx="46" cy="24" rx="2.5" ry="3" fill="#fff"/><circle cx="38" cy="24" r="1.5" fill="#333"/><circle cx="46" cy="24" r="1.5" fill="#333"/><circle cx="38.5" cy="23.5" r="0.5" fill="#fff"/><circle cx="46.5" cy="23.5" r="0.5" fill="#fff"/><ellipse cx="36" cy="27" rx="2" ry="1" fill="#ffb6c1" opacity="0.6"/><ellipse cx="48" cy="27" rx="2" ry="1" fill="#ffb6c1" opacity="0.6"/><path d="M40 29 Q42 31 44 29" stroke="#e91e63" fill="none" stroke-width="0.8"/></svg></div>
                                <span>Manga</span>
                            </div>
                            <div class="illustration-option" onclick="selectIllustration(this,'foxes')">
                                <div class="illust-preview"><svg viewBox="0 0 60 50" width="50" height="42"><ellipse cx="18" cy="32" rx="10" ry="12" fill="#e67e22"/><ellipse cx="18" cy="24" rx="8" ry="7" fill="#e67e22"/><polygon points="10,18 12,26 16,20" fill="#e67e22"/><polygon points="20,20 24,26 26,18" fill="#e67e22"/><polygon points="10,18 14,20 12,16" fill="#fff"/><polygon points="26,18 22,20 24,16" fill="#fff"/><ellipse cx="18" cy="30" rx="5" ry="4" fill="#fff"/><circle cx="14" cy="23" r="1.5" fill="#333"/><circle cx="22" cy="23" r="1.5" fill="#333"/><ellipse cx="18" cy="27" rx="2" ry="1.5" fill="#333"/><path d="M30 22 C30 18, 27 17, 25 19 C24 21, 30 28, 30 28 C30 28, 36 21, 35 19 C33 17, 30 18, 30 22" fill="#ff1493"/><ellipse cx="42" cy="32" rx="10" ry="12" fill="#d35400"/><ellipse cx="42" cy="24" rx="8" ry="7" fill="#d35400"/><polygon points="34,18 36,26 40,20" fill="#d35400"/><polygon points="44,20 48,26 50,18" fill="#d35400"/><polygon points="34,18 38,20 36,16" fill="#fff"/><polygon points="50,18 46,20 48,16" fill="#fff"/><ellipse cx="42" cy="30" rx="5" ry="4" fill="#fff"/><circle cx="38" cy="23" r="1.5" fill="#333"/><circle cx="46" cy="23" r="1.5" fill="#333"/><ellipse cx="42" cy="27" rx="2" ry="1.5" fill="#333"/></svg></div>
                                <span>Foxes</span>
                            </div>
                            <div class="illustration-option" onclick="selectIllustration(this,'pandas')">
                                <div class="illust-preview"><svg viewBox="0 0 60 50" width="50" height="42"><circle cx="18" cy="28" r="12" fill="#fff"/><circle cx="18" cy="20" rx="9" fill="#fff"/><circle cx="10" cy="14" r="4" fill="#333"/><circle cx="26" cy="14" r="4" fill="#333"/><ellipse cx="13" cy="19" rx="4" ry="3" fill="#333"/><ellipse cx="23" cy="19" rx="4" ry="3" fill="#333"/><circle cx="13" cy="19" r="1.5" fill="#fff"/><circle cx="23" cy="19" r="1.5" fill="#fff"/><ellipse cx="18" cy="24" rx="3" ry="2" fill="#333"/><path d="M30 20 C30 16, 27 15, 25 17 C24 19, 30 26, 30 26 C30 26, 36 19, 35 17 C33 15, 30 16, 30 20" fill="#ff1493"/><circle cx="42" cy="28" r="12" fill="#fff"/><circle cx="42" cy="20" rx="9" fill="#fff"/><circle cx="34" cy="14" r="4" fill="#333"/><circle cx="50" cy="14" r="4" fill="#333"/><ellipse cx="37" cy="19" rx="4" ry="3" fill="#333"/><ellipse cx="47" cy="19" rx="4" ry="3" fill="#333"/><circle cx="37" cy="19" r="1.5" fill="#fff"/><circle cx="47" cy="19" r="1.5" fill="#fff"/><ellipse cx="42" cy="24" rx="3" ry="2" fill="#333"/></svg></div>
                                <span>Pandas</span>
                            </div>
                            <div class="illustration-option" onclick="selectIllustration(this,'dogs')">
                                <div class="illust-preview"><svg viewBox="0 0 60 50" width="50" height="42"><ellipse cx="18" cy="32" rx="11" ry="13" fill="#f5deb3"/><ellipse cx="18" cy="23" rx="9" ry="8" fill="#f5deb3"/><ellipse cx="8" cy="20" rx="5" ry="8" fill="#deb887"/><ellipse cx="28" cy="20" rx="5" ry="8" fill="#deb887"/><circle cx="14" cy="22" r="2" fill="#333"/><circle cx="22" cy="22" r="2" fill="#333"/><ellipse cx="18" cy="27" rx="4" ry="3" fill="#deb887"/><circle cx="18" cy="26" r="2.5" fill="#333"/><path d="M15 30 Q18 33 21 30" stroke="#333" fill="none" stroke-width="1"/><path d="M30 22 C30 18, 27 17, 25 19 C24 21, 30 28, 30 28 C30 28, 36 21, 35 19 C33 17, 30 18, 30 22" fill="#ff1493"/><ellipse cx="42" cy="32" rx="11" ry="13" fill="#ffe4c4"/><ellipse cx="42" cy="23" rx="9" ry="8" fill="#ffe4c4"/><ellipse cx="32" cy="20" rx="5" ry="8" fill="#f5deb3"/><ellipse cx="52" cy="20" rx="5" ry="8" fill="#f5deb3"/><circle cx="38" cy="22" r="2" fill="#333"/><circle cx="46" cy="22" r="2" fill="#333"/><ellipse cx="42" cy="27" rx="4" ry="3" fill="#f5deb3"/><circle cx="42" cy="26" r="2.5" fill="#333"/><path d="M39 30 Q42 33 45 30" stroke="#333" fill="none" stroke-width="1"/></svg></div>
                                <span>Puppies</span>
                            </div>
                        </div></div><div id="photoUploadSection" class="hidden"><p style="font-size:0.85rem;color:rgba(255,255,255,0.6);margin-bottom:15px;">Upload your photos (+â‚¬5)</p><div id="proposalPhotoUpload" style="border:2px dashed rgba(255,255,255,0.2);border-radius:12px;padding:30px;text-align:center;cursor:pointer;margin-bottom:15px;position:relative;overflow:hidden;"><input type="file" id="proposalPhotoInput" accept="image/*" style="position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;cursor:pointer;" onchange="uploadPhoto('proposal',this)"><div id="proposalPhotoPreview"><div style="font-size:2rem;">ğŸ“·</div><p style="font-size:0.85rem;color:rgba(255,255,255,0.5);">Click to upload proposal photo</p></div></div><div id="responsePhotoUpload" style="border:2px dashed rgba(255,255,255,0.2);border-radius:12px;padding:30px;text-align:center;cursor:pointer;position:relative;overflow:hidden;"><input type="file" id="responsePhotoInput" accept="image/*" style="position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;cursor:pointer;" onchange="uploadPhoto('response',this)"><div id="responsePhotoPreview"><div style="font-size:2rem;">ğŸ“·</div><p style="font-size:0.85rem;color:rgba(255,255,255,0.5);">Click to upload response photo ğŸ’‹</p></div></div><p id="uploadStatus" style="font-size:0.75rem;color:#ff69b4;margin-top:10px;text-align:center;"></p></div></div>
                <div class="editor-section"><h3>Music <span class="premium-badge">+â‚¬5</span></h3><select id="musicSelector" onchange="updatePricing()"><option value="">ğŸ”‡ No music (free)</option><option value="romantic-piano">ğŸ¹ Romantic Piano (+â‚¬5)</option><option value="soft-guitar">ğŸ¸ Soft Guitar (+â‚¬5)</option><option value="dreamy-waltz">ğŸ’ƒ Dreamy Waltz (+â‚¬5)</option><option value="eternal-love">ğŸ’– Eternal Love (+â‚¬5)</option><option value="moonlight">ğŸŒ™ Moonlight (+â‚¬5)</option></select></div>
                <div class="continue-section"><button class="continue-btn" onclick="showPage('checkout')">Continue to payment ğŸ’• <span class="price-tag" id="totalPrice">â‚¬4.99</span></button></div>
            </div>
            <div class="preview-panel">
                <div class="preview-phone"><iframe id="previewFrame" class="preview-iframe"></iframe></div>
                <div class="preview-label">ğŸ“± Live preview</div>
                <div class="preview-toggle"><button class="active" onclick="setPreviewMode('proposal',this)">Proposal</button><button onclick="setPreviewMode('response',this)">Response</button></div>
            </div>
        </div>
    </div>

    <!-- PAGE 3: CHECKOUT -->
    <div id="checkout" class="page">
        <div class="checkout-container">
            <div class="checkout-summary">
                <h2>Summary ğŸ“‹</h2>
                <div class="summary-item"><span>Plan</span><span id="summaryPlan">Basic</span></div>
                <div class="summary-item"><span>Custom link</span><span id="summaryLink">willubewith.me/...</span></div>
                <div class="summary-item"><span>Photos</span><span id="summaryPhotos">Illustrations</span></div>
                <div class="summary-item"><span>Music</span><span id="summaryMusic">None</span></div>
                <div class="summary-item"><span>Hosting</span><span id="summaryHosting">30 days</span></div>
                <div class="summary-item total"><span>Total</span><span id="summaryTotal">â‚¬4.99</span></div>
                <div class="summary-preview"><div class="summary-preview-title">Your page preview</div><div class="summary-preview-box"><div class="name" id="checkoutName">Name</div><div class="question" id="checkoutQuestion">Would you be my Valentine? ğŸ’•</div></div></div>
            </div>
            <div class="checkout-payment">
                <h2>Secure payment ğŸ”’</h2>
                <div class="payment-form">
                    <label>Email</label><input type="email" placeholder="your@email.com" id="paymentEmail">
                    <p style="font-size:0.85rem;color:rgba(255,255,255,0.6);margin:15px 0;">You'll be redirected to Stripe's secure payment page</p>
                    <button class="pay-btn" onclick="processPayment()" id="payBtn">Pay â‚¬4.99 ğŸ’•</button>
                    <div class="stripe-badge"><span>ğŸ”’ Secured by Stripe</span></div>
                </div>
            </div>
        </div>
    </div>

    <!-- PAGE 4: SUCCESS -->
    <div id="success" class="page">
        <div class="success-container">
            <div class="success-icon">ğŸ‰</div>
            <h1>It's <span class="highlight">ready</span>!</h1>
            <p>Your page has been created. Send it to your special someone! ğŸ¤ğŸ’•</p>
            <div class="success-link-box"><div class="success-link-label">Your personalized link</div><div class="success-link"><input type="text" id="finalLink" value="willubewith.me/ellina" readonly><button class="copy-btn" onclick="copyLink()">Copy</button></div></div>
            <div class="success-share"><button class="share-btn whatsapp" onclick="shareWhatsApp()">ğŸ“± WhatsApp</button><button class="share-btn sms" onclick="shareSMS()">ğŸ’¬ SMS</button></div>
            <button class="btn-secondary" id="viewPageBtn" onclick="viewMyPage()">ğŸ‘€ View my page</button>
            <div class="review-submission">
                <h3>Leave a review â­</h3>
                <p style="text-align:center;font-size:0.9rem;color:rgba(255,255,255,0.6);margin-bottom:20px;">Share your experience and help others!</p>
                <div class="star-rating" id="starRating"><span onclick="setRating(1)">â­</span><span onclick="setRating(2)">â­</span><span onclick="setRating(3)">â­</span><span onclick="setRating(4)">â­</span><span onclick="setRating(5)">â­</span></div>
                <textarea id="reviewText" placeholder="Tell us about your experience... Did it work? ğŸ˜"></textarea>
                <label style="display:block;font-size:0.85rem;color:rgba(255,255,255,0.7);margin-bottom:8px;">Your first name</label>
                <input type="text" id="reviewerName" placeholder="Thomas" style="width:100%;padding:12px;border:2px solid rgba(255,255,255,0.1);border-radius:12px;background:rgba(255,255,255,0.05);color:#fff;font-family:'Quicksand',sans-serif;margin-bottom:15px;">
                <button class="submit-review-btn" onclick="submitReview()">Submit my review â­</button>
            </div>
        </div>
    </div>
    <script>
        let selectedVibe = 'romantic';
        let previewMode = 'proposal';
        let selectedIllustration = 'cats';
        let hasPhotos = false;
        let hasMusic = false;
        let userRating = 0;
        
        // Cloudinary config
        const CLOUDINARY_CLOUD_NAME = 'dl42cygq6';
        const CLOUDINARY_UPLOAD_PRESET = 'willubewithme';
        let proposalPhotoUrl = null;
        let responsePhotoUrl = null;

        // Supabase config
        const SUPABASE_URL = 'https://abenjnsqgrnqtoduddrr.supabase.co';
        const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFiZW5qbnNxZ3JucXRvZHVkZHJyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA2MzEwODksImV4cCI6MjA4NjIwNzA4OX0.6cDhwazTYPWuYA9iy_AN0udVftpTw79khsxZ1ISUDZ0';

        // Save page to Supabase
        async function savePage() {
            const slug = document.getElementById('domainSlug').value || document.getElementById('recipientName').value.toLowerCase().replace(/[^a-z0-9]/g, '');
            const selectedEmojis = Array.from(document.querySelectorAll('.emoji-option.selected')).map(e => e.dataset.emoji);
            
            const pageData = {
                slug: slug,
                recipient_name: document.getElementById('recipientName').value || 'Name',
                question: document.getElementById('proposalQuestion').value || 'Would you be my Valentine?',
                celebration_text: document.getElementById('celebrationText').value || 'Yaaay!',
                response_message: document.getElementById('responseMessage').value || 'You just made me the happiest person!',
                love_text: document.getElementById('loveText').value || 'I love you!',
                emojis: selectedEmojis.join('') || 'ğŸ’âœ¨ğŸ’•',
                vibe: selectedVibe,
                illustration: selectedIllustration,
                proposal_photo_url: proposalPhotoUrl,
                response_photo_url: responsePhotoUrl,
                music: document.getElementById('musicSelector').value || null,
                email: document.getElementById('paymentEmail').value || null
            };

            try {
                const response = await fetch(`${SUPABASE_URL}/rest/v1/pages`, {
                    method: 'POST',
                    headers: {
                        'apikey': SUPABASE_KEY,
                        'Authorization': `Bearer ${SUPABASE_KEY}`,
                        'Content-Type': 'application/json',
                        'Prefer': 'return=representation'
                    },
                    body: JSON.stringify(pageData)
                });

                if (response.ok) {
                    return { success: true, slug: slug };
                } else {
                    const error = await response.json();
                    if (error.code === '23505') {
                        return { success: false, error: 'This link is already taken. Please choose another.' };
                    }
                    return { success: false, error: error.message || 'Failed to save' };
                }
            } catch (error) {
                console.error(error);
                return { success: false, error: 'Connection error' };
            }
        }

        // Load page from Supabase
        async function loadPage(slug) {
            try {
                const response = await fetch(`${SUPABASE_URL}/rest/v1/pages?slug=eq.${slug}&select=*`, {
                    headers: {
                        'apikey': SUPABASE_KEY,
                        'Authorization': `Bearer ${SUPABASE_KEY}`
                    }
                });

                if (response.ok) {
                    const data = await response.json();
                    if (data.length > 0) {
                        return { success: true, page: data[0] };
                    }
                }
                return { success: false };
            } catch (error) {
                console.error(error);
                return { success: false };
            }
        }

        // Upload photo to Cloudinary
        async function uploadPhoto(type, input) {
            const file = input.files[0];
            if (!file) return;
            
            const statusEl = document.getElementById('uploadStatus');
            statusEl.textContent = 'Uploading...';
            
            const formData = new FormData();
            formData.append('file', file);
            formData.append('upload_preset', CLOUDINARY_UPLOAD_PRESET);
            
            try {
                const response = await fetch(`https://api.cloudinary.com/v1_1/${CLOUDINARY_CLOUD_NAME}/image/upload`, {
                    method: 'POST',
                    body: formData
                });
                
                const data = await response.json();
                
                if (data.secure_url) {
                    if (type === 'proposal') {
                        proposalPhotoUrl = data.secure_url;
                        document.getElementById('proposalPhotoPreview').innerHTML = `<img src="${data.secure_url}" style="max-width:100%;max-height:120px;border-radius:8px;"><p style="font-size:0.75rem;color:#4ade80;margin-top:5px;">âœ“ Uploaded!</p>`;
                    } else {
                        responsePhotoUrl = data.secure_url;
                        document.getElementById('responsePhotoPreview').innerHTML = `<img src="${data.secure_url}" style="max-width:100%;max-height:120px;border-radius:8px;"><p style="font-size:0.75rem;color:#4ade80;margin-top:5px;">âœ“ Uploaded!</p>`;
                    }
                    statusEl.textContent = '';
                    updatePreview();
                } else {
                    statusEl.textContent = 'Error: ' + (data.error?.message || 'Upload failed');
                }
            } catch (error) {
                statusEl.textContent = 'Error: Could not upload';
                console.error(error);
            }
        }

        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            window.scrollTo(0, 0);
            if (pageId === 'editor') updatePreview();
            if (pageId === 'checkout') updateCheckout();
            if (pageId === 'success') updateSuccess();
        }

        const hearts = ['ğŸ’•', 'ğŸ’—', 'ğŸ’–', 'ğŸ’“', 'â¤ï¸', 'ğŸ’', 'âœ¨'];
        const container = document.getElementById('floatingHearts');
        function createHeart() {
            const heart = document.createElement('div');
            heart.className = 'floating-heart';
            heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.fontSize = (15 + Math.random() * 20) + 'px';
            heart.style.animationDuration = (6 + Math.random() * 5) + 's';
            container.appendChild(heart);
            setTimeout(() => heart.remove(), 11000);
        }
        setInterval(createHeart, 600);
        for (let i = 0; i < 8; i++) setTimeout(createHeart, i * 150);

        function selectVibe(el, vibe) {
            document.querySelectorAll('.vibe-option').forEach(v => v.classList.remove('selected'));
            el.classList.add('selected');
            selectedVibe = vibe;
            updatePreview();
        }

        function toggleEmoji(el) {
            el.classList.toggle('selected');
            updatePreview();
        }

        function selectIllustration(el, type) {
            document.querySelectorAll('.illustration-option').forEach(i => i.classList.remove('selected'));
            el.classList.add('selected');
            selectedIllustration = type;
            updatePreview();
        }

        function setPhotoType(type, btn) {
            document.querySelectorAll('.photo-type-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            document.getElementById('illustrationsSection').classList.toggle('hidden', type !== 'illustration');
            document.getElementById('photoUploadSection').classList.toggle('hidden', type !== 'upload');
            hasPhotos = (type === 'upload');
            updatePricing();
            updatePreview();
        }

        function setPreviewMode(mode, btn) {
            previewMode = mode;
            document.querySelectorAll('.preview-toggle button').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            updatePreview();
        }

        function updateDomain() {
            const slug = document.getElementById('domainSlug').value.toLowerCase().replace(/[^a-z0-9-]/g, '');
            document.getElementById('domainSlug').value = slug;
            document.getElementById('domainPreview').textContent = 'willubewith.me/' + (slug || 'your-name');
        }

        function autoFillDomain() {
            const name = document.getElementById('recipientName').value.toLowerCase().replace(/[^a-z0-9]/g, '');
            if (!document.getElementById('domainSlug').value) {
                document.getElementById('domainSlug').value = name;
                document.getElementById('domainPreview').textContent = 'willubewith.me/' + (name || 'your-name');
            }
        }

        function updatePricing() {
            const musicEl = document.getElementById('musicSelector');
            hasMusic = musicEl && musicEl.value !== '';
            let total = 4.99 + (hasPhotos ? 5 : 0) + (hasMusic ? 5 : 0);
            let tierName = 'Basic';
            if (hasPhotos && hasMusic) tierName = 'Photo+ & Music';
            else if (hasPhotos) tierName = 'Photo+';
            else if (hasMusic) tierName = 'Basic + Music';
            document.getElementById('currentTier').textContent = tierName + ' - â‚¬' + total.toFixed(2);
            document.getElementById('totalPrice').textContent = 'â‚¬' + total.toFixed(2);
            document.getElementById('breakdownPhotos').classList.toggle('hidden', !hasPhotos);
            document.getElementById('breakdownMusic').classList.toggle('hidden', !hasMusic);
        }

        function updatePreview() {
            const name = document.getElementById('recipientName').value || 'Name';
            const question = document.getElementById('proposalQuestion').value || 'Would you be my Valentine?';
            const response = document.getElementById('responseMessage').value || 'You made me so happy!';
            const celebration = document.getElementById('celebrationText').value || 'Yaaay!';
            const love = document.getElementById('loveText').value || 'I love you!';
            const selectedEmojis = Array.from(document.querySelectorAll('.emoji-option.selected')).map(e => e.dataset.emoji);
            const emojis = selectedEmojis.length > 0 ? selectedEmojis.join('') : 'ğŸ’âœ¨ğŸ’•';
            const illustSVGs = {
                cats: '<svg viewBox="0 0 60 50" width="100%"><ellipse cx="18" cy="32" rx="12" ry="14" fill="#ffb6c1"/><ellipse cx="18" cy="22" rx="8" ry="7" fill="#ffb6c1"/><polygon points="11,17 13,24 16,18" fill="#ffb6c1"/><polygon points="20,18 23,24 25,17" fill="#ffb6c1"/><circle cx="15" cy="21" r="1.5" fill="#333"/><circle cx="21" cy="21" r="1.5" fill="#333"/><ellipse cx="18" cy="24" rx="1.5" ry="1" fill="#ff69b4"/><path d="M30 22 C30 18, 27 17, 25 19 C24 21, 30 28, 30 28 C30 28, 36 21, 35 19 C33 17, 30 18, 30 22" fill="#ff1493"/><ellipse cx="42" cy="32" rx="12" ry="14" fill="#ffd1dc"/><ellipse cx="42" cy="22" rx="8" ry="7" fill="#ffd1dc"/><polygon points="35,17 37,24 40,18" fill="#ffd1dc"/><polygon points="44,18 47,24 49,17" fill="#ffd1dc"/><circle cx="39" cy="21" r="1.5" fill="#333"/><circle cx="45" cy="21" r="1.5" fill="#333"/><ellipse cx="42" cy="24" rx="1.5" ry="1" fill="#ff69b4"/></svg>',
                bears: '<svg viewBox="0 0 60 50" width="100%"><circle cx="18" cy="30" r="12" fill="#d2a679"/><circle cx="18" cy="20" r="8" fill="#d2a679"/><circle cx="10" cy="14" r="4" fill="#d2a679"/><circle cx="26" cy="14" r="4" fill="#d2a679"/><circle cx="10" cy="14" r="2.5" fill="#c49a6c"/><circle cx="26" cy="14" r="2.5" fill="#c49a6c"/><circle cx="15" cy="19" r="1.5" fill="#333"/><circle cx="21" cy="19" r="1.5" fill="#333"/><ellipse cx="18" cy="23" rx="2.5" ry="2" fill="#c49a6c"/><circle cx="18" cy="22" r="1.5" fill="#333"/><path d="M30 20 C30 16, 27 15, 25 17 C24 19, 30 26, 30 26 C30 26, 36 19, 35 17 C33 15, 30 16, 30 20" fill="#ff1493"/><circle cx="42" cy="30" r="12" fill="#e8c4a0"/><circle cx="42" cy="20" r="8" fill="#e8c4a0"/><circle cx="34" cy="14" r="4" fill="#e8c4a0"/><circle cx="50" cy="14" r="4" fill="#e8c4a0"/><circle cx="34" cy="14" r="2.5" fill="#d4b08c"/><circle cx="50" cy="14" r="2.5" fill="#d4b08c"/><circle cx="39" cy="19" r="1.5" fill="#333"/><circle cx="45" cy="19" r="1.5" fill="#333"/><ellipse cx="42" cy="23" rx="2.5" ry="2" fill="#d4b08c"/><circle cx="42" cy="22" r="1.5" fill="#333"/></svg>',
                bunnies: '<svg viewBox="0 0 60 50" width="100%"><ellipse cx="18" cy="35" rx="10" ry="12" fill="#fff" stroke="#eee"/><ellipse cx="18" cy="26" rx="7" ry="6" fill="#fff" stroke="#eee"/><ellipse cx="13" cy="12" rx="3" ry="10" fill="#fff" stroke="#eee"/><ellipse cx="23" cy="12" rx="3" ry="10" fill="#fff" stroke="#eee"/><ellipse cx="13" cy="12" rx="1.5" ry="7" fill="#ffb6c1"/><ellipse cx="23" cy="12" rx="1.5" ry="7" fill="#ffb6c1"/><circle cx="15" cy="25" r="1.5" fill="#333"/><circle cx="21" cy="25" r="1.5" fill="#333"/><ellipse cx="18" cy="28" rx="1.5" ry="1" fill="#ffb6c1"/><path d="M30 22 C30 18, 27 17, 25 19 C24 21, 30 28, 30 28 C30 28, 36 21, 35 19 C33 17, 30 18, 30 22" fill="#ff1493"/><ellipse cx="42" cy="35" rx="10" ry="12" fill="#ffeef8" stroke="#eee"/><ellipse cx="42" cy="26" rx="7" ry="6" fill="#ffeef8" stroke="#eee"/><ellipse cx="37" cy="12" rx="3" ry="10" fill="#ffeef8" stroke="#eee"/><ellipse cx="47" cy="12" rx="3" ry="10" fill="#ffeef8" stroke="#eee"/><ellipse cx="37" cy="12" rx="1.5" ry="7" fill="#ffb6c1"/><ellipse cx="47" cy="12" rx="1.5" ry="7" fill="#ffb6c1"/><circle cx="39" cy="25" r="1.5" fill="#333"/><circle cx="45" cy="25" r="1.5" fill="#333"/><ellipse cx="42" cy="28" rx="1.5" ry="1" fill="#ffb6c1"/></svg>',
                penguins: '<svg viewBox="0 0 60 50" width="100%"><ellipse cx="18" cy="32" rx="10" ry="14" fill="#2c3e50"/><ellipse cx="18" cy="34" rx="6" ry="10" fill="#fff"/><ellipse cx="18" cy="22" rx="7" ry="6" fill="#2c3e50"/><circle cx="15" cy="21" r="1.5" fill="#fff"/><circle cx="21" cy="21" r="1.5" fill="#fff"/><circle cx="15" cy="21" r="0.8" fill="#333"/><circle cx="21" cy="21" r="0.8" fill="#333"/><polygon points="18,23 16,27 20,27" fill="#f39c12"/><path d="M30 20 C30 16, 27 15, 25 17 C24 19, 30 26, 30 26 C30 26, 36 19, 35 17 C33 15, 30 16, 30 20" fill="#ff1493"/><ellipse cx="42" cy="32" rx="10" ry="14" fill="#34495e"/><ellipse cx="42" cy="34" rx="6" ry="10" fill="#fff"/><ellipse cx="42" cy="22" rx="7" ry="6" fill="#34495e"/><circle cx="39" cy="21" r="1.5" fill="#fff"/><circle cx="45" cy="21" r="1.5" fill="#fff"/><circle cx="39" cy="21" r="0.8" fill="#333"/><circle cx="45" cy="21" r="0.8" fill="#333"/><polygon points="42,23 40,27 44,27" fill="#f39c12"/></svg>',
                manga: '<svg viewBox="0 0 60 50" width="100%"><circle cx="18" cy="25" r="10" fill="#ffe4c4"/><ellipse cx="18" cy="35" rx="6" ry="8" fill="#ff69b4"/><path d="M10 18 Q12 10, 18 12 Q24 10, 26 18" fill="#4a3728"/><ellipse cx="14" cy="24" rx="2.5" ry="3" fill="#fff"/><ellipse cx="22" cy="24" rx="2.5" ry="3" fill="#fff"/><circle cx="14" cy="24" r="1.5" fill="#333"/><circle cx="22" cy="24" r="1.5" fill="#333"/><ellipse cx="12" cy="27" rx="2" ry="1" fill="#ffb6c1" opacity="0.6"/><ellipse cx="24" cy="27" rx="2" ry="1" fill="#ffb6c1" opacity="0.6"/><path d="M16 29 Q18 31 20 29" stroke="#e91e63" fill="none" stroke-width="0.8"/><path d="M30 22 C30 18, 27 17, 25 19 C24 21, 30 28, 30 28 C30 28, 36 21, 35 19 C33 17, 30 18, 30 22" fill="#ff1493"/><circle cx="42" cy="25" r="10" fill="#ffe4c4"/><ellipse cx="42" cy="35" rx="6" ry="8" fill="#4a90d9"/><path d="M34 16 Q38 12, 42 14 Q46 12, 50 16 L48 20 Q42 18, 36 20 Z" fill="#4a3728"/><ellipse cx="38" cy="24" rx="2.5" ry="3" fill="#fff"/><ellipse cx="46" cy="24" rx="2.5" ry="3" fill="#fff"/><circle cx="38" cy="24" r="1.5" fill="#333"/><circle cx="46" cy="24" r="1.5" fill="#333"/><ellipse cx="36" cy="27" rx="2" ry="1" fill="#ffb6c1" opacity="0.6"/><ellipse cx="48" cy="27" rx="2" ry="1" fill="#ffb6c1" opacity="0.6"/><path d="M40 29 Q42 31 44 29" stroke="#e91e63" fill="none" stroke-width="0.8"/></svg>',
                foxes: '<svg viewBox="0 0 60 50" width="100%"><ellipse cx="18" cy="32" rx="10" ry="12" fill="#e67e22"/><ellipse cx="18" cy="24" rx="8" ry="7" fill="#e67e22"/><polygon points="10,18 12,26 16,20" fill="#e67e22"/><polygon points="20,20 24,26 26,18" fill="#e67e22"/><polygon points="10,18 14,20 12,16" fill="#fff"/><polygon points="26,18 22,20 24,16" fill="#fff"/><ellipse cx="18" cy="30" rx="5" ry="4" fill="#fff"/><circle cx="14" cy="23" r="1.5" fill="#333"/><circle cx="22" cy="23" r="1.5" fill="#333"/><ellipse cx="18" cy="27" rx="2" ry="1.5" fill="#333"/><path d="M30 22 C30 18, 27 17, 25 19 C24 21, 30 28, 30 28 C30 28, 36 21, 35 19 C33 17, 30 18, 30 22" fill="#ff1493"/><ellipse cx="42" cy="32" rx="10" ry="12" fill="#d35400"/><ellipse cx="42" cy="24" rx="8" ry="7" fill="#d35400"/><polygon points="34,18 36,26 40,20" fill="#d35400"/><polygon points="44,20 48,26 50,18" fill="#d35400"/><polygon points="34,18 38,20 36,16" fill="#fff"/><polygon points="50,18 46,20 48,16" fill="#fff"/><ellipse cx="42" cy="30" rx="5" ry="4" fill="#fff"/><circle cx="38" cy="23" r="1.5" fill="#333"/><circle cx="46" cy="23" r="1.5" fill="#333"/><ellipse cx="42" cy="27" rx="2" ry="1.5" fill="#333"/></svg>',
                pandas: '<svg viewBox="0 0 60 50" width="100%"><circle cx="18" cy="28" r="12" fill="#fff"/><circle cx="18" cy="20" r="9" fill="#fff"/><circle cx="10" cy="14" r="4" fill="#333"/><circle cx="26" cy="14" r="4" fill="#333"/><ellipse cx="13" cy="19" rx="4" ry="3" fill="#333"/><ellipse cx="23" cy="19" rx="4" ry="3" fill="#333"/><circle cx="13" cy="19" r="1.5" fill="#fff"/><circle cx="23" cy="19" r="1.5" fill="#fff"/><ellipse cx="18" cy="24" rx="3" ry="2" fill="#333"/><path d="M30 20 C30 16, 27 15, 25 17 C24 19, 30 26, 30 26 C30 26, 36 19, 35 17 C33 15, 30 16, 30 20" fill="#ff1493"/><circle cx="42" cy="28" r="12" fill="#fff"/><circle cx="42" cy="20" r="9" fill="#fff"/><circle cx="34" cy="14" r="4" fill="#333"/><circle cx="50" cy="14" r="4" fill="#333"/><ellipse cx="37" cy="19" rx="4" ry="3" fill="#333"/><ellipse cx="47" cy="19" rx="4" ry="3" fill="#333"/><circle cx="37" cy="19" r="1.5" fill="#fff"/><circle cx="47" cy="19" r="1.5" fill="#fff"/><ellipse cx="42" cy="24" rx="3" ry="2" fill="#333"/></svg>',
                dogs: '<svg viewBox="0 0 60 50" width="100%"><ellipse cx="18" cy="32" rx="11" ry="13" fill="#f5deb3"/><ellipse cx="18" cy="23" rx="9" ry="8" fill="#f5deb3"/><ellipse cx="8" cy="20" rx="5" ry="8" fill="#deb887"/><ellipse cx="28" cy="20" rx="5" ry="8" fill="#deb887"/><circle cx="14" cy="22" r="2" fill="#333"/><circle cx="22" cy="22" r="2" fill="#333"/><ellipse cx="18" cy="27" rx="4" ry="3" fill="#deb887"/><circle cx="18" cy="26" r="2.5" fill="#333"/><path d="M15 30 Q18 33 21 30" stroke="#333" fill="none" stroke-width="1"/><path d="M30 22 C30 18, 27 17, 25 19 C24 21, 30 28, 30 28 C30 28, 36 21, 35 19 C33 17, 30 18, 30 22" fill="#ff1493"/><ellipse cx="42" cy="32" rx="11" ry="13" fill="#ffe4c4"/><ellipse cx="42" cy="23" rx="9" ry="8" fill="#ffe4c4"/><ellipse cx="32" cy="20" rx="5" ry="8" fill="#f5deb3"/><ellipse cx="52" cy="20" rx="5" ry="8" fill="#f5deb3"/><circle cx="38" cy="22" r="2" fill="#333"/><circle cx="46" cy="22" r="2" fill="#333"/><ellipse cx="42" cy="27" rx="4" ry="3" fill="#f5deb3"/><circle cx="42" cy="26" r="2.5" fill="#333"/><path d="M39 30 Q42 33 45 30" stroke="#333" fill="none" stroke-width="1"/></svg>'
            };
            
            // Use uploaded photo or illustration
            let photoContent;
            if (hasPhotos && previewMode === 'proposal' && proposalPhotoUrl) {
                photoContent = '<img src="' + proposalPhotoUrl + '" style="width:100%;height:100%;object-fit:cover;border-radius:12px;">';
            } else if (hasPhotos && previewMode === 'response' && responsePhotoUrl) {
                photoContent = '<img src="' + responsePhotoUrl + '" style="width:100%;height:100%;object-fit:cover;border-radius:12px;">';
            } else {
                photoContent = illustSVGs[selectedIllustration] || illustSVGs.cats;
            }
            const vibeColors = { romantic: { bg: '#ffeef8', primary: '#e91e63', secondary: '#ff69b4' }, elegant: { bg: '#fff8e7', primary: '#d4af37', secondary: '#aa8c2c' }, playful: { bg: '#fff3e0', primary: '#ff6b6b', secondary: '#feca57' }, minimal: { bg: '#f8f9fa', primary: '#333', secondary: '#666' }, dark: { bg: '#1a1a2e', primary: '#e94560', secondary: '#ff69b4' }, ocean: { bg: '#e0f7fa', primary: '#00796b', secondary: '#0097a7' } };
            const v = vibeColors[selectedVibe];
            const isDark = selectedVibe === 'dark';

            const html = `<!DOCTYPE html><html><head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Bangers&family=Comic+Neue:wght@700&family=Fredoka+One&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-5px)}}
@keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.03)}}
@keyframes heartBeat{0%{transform:scale(1)}14%{transform:scale(1.2)}28%{transform:scale(1)}42%{transform:scale(1.2)}70%{transform:scale(1)}}
@keyframes disco{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
@keyframes shine{0%{transform:translateX(-100%) rotate(45deg)}100%{transform:translateX(100%) rotate(45deg)}}
@keyframes marquee{0%{transform:translateX(0)}100%{transform:translateX(-50%)}}
@keyframes floatHeart{0%,100%{transform:translateY(0) scale(1)}50%{transform:translateY(-8px) scale(1.1)}}

body{
  min-height:100vh;
  background:${isDark ? 
    `linear-gradient(135deg,#0a0015,#1a0a30,#2d1050,#1a0a30,#0a0015)` : 
    `linear-gradient(135deg,#ffb6c1,#ffc0cb,#ffb6c1,#fff0f5,#ffc0cb)`};
  background-size:400% 400%;
  animation:disco 8s ease infinite;
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  font-family:"Comic Neue",cursive;padding:20px;
  color:${isDark?'#fff':'#333'};overflow:hidden;position:relative;
  text-align:center;
}
body::before{
  content:'';
  position:absolute;
  top:0;left:0;right:0;bottom:0;
  background-image:
    radial-gradient(circle at 10% 20%, rgba(255,255,255,0.4) 0%, transparent 25%),
    radial-gradient(circle at 85% 15%, rgba(255,255,255,0.3) 0%, transparent 20%),
    radial-gradient(circle at 70% 80%, rgba(255,255,255,0.35) 0%, transparent 22%),
    radial-gradient(circle at 25% 75%, rgba(255,255,255,0.3) 0%, transparent 18%),
    radial-gradient(circle at 50% 50%, rgba(255,182,193,0.2) 0%, transparent 50%);
  pointer-events:none;
  z-index:0;
}
.deco-heart{position:fixed;font-size:1.2rem;opacity:0.5;animation:floatHeart 3s ease-in-out infinite;pointer-events:none;z-index:0}
.deco-star{position:fixed;color:#fff;font-size:0.9rem;opacity:0.7;animation:pulse 2s ease-in-out infinite;pointer-events:none;z-index:0}
.deco-cloud{position:fixed;font-size:2rem;opacity:0.3;pointer-events:none;z-index:0}
.photo{width:95%;max-width:95vw;height:45vh;background:linear-gradient(135deg,${v.secondary},${v.primary});border-radius:15px;margin:0 auto 10px;display:flex;align-items:center;justify-content:center;font-size:2rem;border:4px solid #fff;box-shadow:0 5px 20px rgba(0,0,0,0.2);overflow:hidden}
.photo svg{width:80%;height:80%}
.emoji-header{font-size:0.9rem;margin-bottom:4px}
.name{font-family:'Bangers',cursive;font-size:1.4rem;letter-spacing:1px;background:linear-gradient(135deg,${v.primary},${v.secondary},#ff69b4);background-size:200% 200%;-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:3px;text-transform:uppercase}
.question{color:${isDark?'#fff':v.primary};font-weight:700;font-size:0.8rem;margin-bottom:8px;line-height:1.2}
.buttons{display:flex;gap:10px;justify-content:center;position:relative;height:40px;align-items:center}
.btn-yes{background:linear-gradient(135deg,${v.secondary},${v.primary},#ff1493);background-size:200% 200%;color:#fff;padding:10px 22px;border-radius:25px;font-weight:700;font-size:0.85rem;cursor:pointer;border:none;font-family:'Fredoka One',cursive;text-transform:uppercase;box-shadow:0 4px 15px ${v.primary}60;position:relative;overflow:hidden}
.btn-yes::before{content:'';position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:linear-gradient(transparent,rgba(255,255,255,0.3),transparent);transform:rotate(45deg);animation:shine 2s infinite}
.btn-no{background:linear-gradient(135deg,#e0e0e0,#c0c0c0);color:#666;padding:8px 16px;border-radius:20px;font-size:.7rem;cursor:pointer;border:2px solid #b0b0b0;font-family:'Comic Neue',cursive;font-weight:700;transition:all .15s ease-out}
.marquee{position:fixed;bottom:5px;left:0;width:200%;font-family:'Bangers',cursive;font-size:0.65rem;color:${v.primary};white-space:nowrap;animation:marquee 12s linear infinite;opacity:0.5}
.corner{position:fixed;font-size:1rem;opacity:0.4;animation:heartBeat 2s infinite}
.celebration{font-family:'Bangers',cursive;font-size:1.3rem;color:${isDark?'#fff':v.primary};text-shadow:2px 2px 0 ${v.secondary};letter-spacing:2px;margin-bottom:5px}
.response-text{color:${isDark?'#fff':v.secondary};font-size:0.75rem;margin:6px 0;font-weight:700}
.love-text{font-family:'Pacifico',cursive;font-size:1rem;background:linear-gradient(135deg,${v.primary},#ff1493,${v.secondary});-webkit-background-clip:text;-webkit-text-fill-color:transparent}
</style>
</head>
<body>
<div class="corner" style="top:10px;left:10px">ğŸ’</div>
<div class="corner" style="top:10px;right:10px">ğŸ’–</div>
<div class="corner" style="bottom:35px;left:10px">ğŸ’—</div>
<div class="corner" style="bottom:35px;right:10px">ğŸ’•</div>
<div class="deco-heart" style="top:15%;left:8%">ğŸ’•</div>
<div class="deco-heart" style="top:25%;right:12%;animation-delay:0.5s">ğŸ’—</div>
<div class="deco-heart" style="top:60%;left:5%;animation-delay:1s">ğŸ’–</div>
<div class="deco-heart" style="top:70%;right:8%;animation-delay:1.5s">ğŸ’•</div>
<div class="deco-star" style="top:12%;left:25%">âœ¦</div>
<div class="deco-star" style="top:8%;right:30%;animation-delay:0.3s">âœ§</div>
<div class="deco-star" style="top:50%;left:3%;animation-delay:0.6s">âœ¦</div>
<div class="deco-star" style="top:45%;right:5%;animation-delay:0.9s">âœ§</div>
<div class="deco-star" style="bottom:25%;left:15%;animation-delay:1.2s">âœ¦</div>
<div class="deco-star" style="bottom:20%;right:20%;animation-delay:1.5s">âœ§</div>
<div class="deco-star" style="top:18%;left:5%">â­</div>
<div class="deco-star" style="top:5%;left:45%;animation-delay:0.4s">âœ¦</div>
<div class="deco-star" style="top:30%;right:3%;animation-delay:0.7s">â­</div>
<div class="deco-star" style="bottom:40%;left:8%;animation-delay:1s">âœ§</div>
<div class="deco-star" style="bottom:10%;right:12%;animation-delay:1.3s">âœ¦</div>
<div class="deco-star" style="top:75%;left:18%;animation-delay:0.2s">â­</div>
${previewMode==='proposal' ? `
<div class="emoji-header">${emojis}</div>
<div class="photo">${photoContent}</div>
<h1 class="name">${name}</h1>
<p class="question">${question} ğŸ’•</p>
<div class="buttons">
  <button class="btn-yes">YES! ğŸ’–</button>
  <button class="btn-no" id="noBtn">no...</button>
</div>
<div class="marquee">ğŸ’• SAY YES ğŸ’• SAY YES ğŸ’• SAY YES ğŸ’• SAY YES ğŸ’• SAY YES ğŸ’•</div>
` : `
<div class="emoji-header">ğŸ‰âœ¨${emojis}âœ¨ğŸ‰</div>
<div class="photo">${photoContent}</div>
<h1 class="celebration">${celebration} ğŸ‰</h1>
<p class="response-text">${response}</p>
<p class="love-text">${love} ğŸ’•</p>
<div class="marquee">ğŸ‰ YES! ğŸ’• LOVE WINS ğŸ‰ YES! ğŸ’• LOVE WINS ğŸ‰</div>
`}
<script>
${previewMode==='proposal' ? `
const noBtn=document.getElementById("noBtn");
const yesBtn=document.querySelector(".btn-yes");
let scale=1;
let yesScale=1;
document.addEventListener("mousemove",function(e){
  if(!noBtn)return;
  const rect=noBtn.getBoundingClientRect();
  const cx=rect.left+rect.width/2;
  const cy=rect.top+rect.height/2;
  const dx=e.clientX-cx;
  const dy=e.clientY-cy;
  const dist=Math.sqrt(dx*dx+dy*dy);
  if(dist<60){
    const angle=Math.atan2(dy,dx);
    const moveX=-Math.cos(angle)*25;
    const moveY=-Math.sin(angle)*25;
    let newLeft=rect.left+moveX;
    let newTop=rect.top+moveY;
    newLeft=Math.max(15,Math.min(window.innerWidth-rect.width-15,newLeft));
    newTop=Math.max(15,Math.min(window.innerHeight-rect.height-15,newTop));
    noBtn.style.position="fixed";
    noBtn.style.left=newLeft+"px";
    noBtn.style.top=newTop+"px";
    scale=Math.max(.7,scale-.01);
    noBtn.style.transform="scale("+scale+")";
    yesScale=Math.min(1.2,yesScale+.008);
    yesBtn.style.transform="scale("+yesScale+")";
  }
});
` : `
const emojis = ['ğŸ’•','ğŸ’—','ğŸ’–','ğŸ‰','ğŸŠ','âœ¨','ğŸ’«','â­','ğŸ’'];
function createEmoji() {
  const e = document.createElement('div');
  e.style.cssText = 'position:fixed;font-size:'+(20+Math.random()*20)+'px;pointer-events:none;z-index:100;';
  e.style.left = Math.random()*100+'vw';
  e.style.bottom = '-30px';
  e.textContent = emojis[Math.floor(Math.random()*emojis.length)];
  document.body.appendChild(e);
  let y = -30, opacity = 1;
  function rise() {
    y += 2;
    opacity = y > window.innerHeight * 0.7 ? opacity - 0.02 : 1;
    e.style.bottom = y + 'px';
    e.style.opacity = opacity;
    if (opacity > 0) requestAnimationFrame(rise);
    else e.remove();
  }
  rise();
}
for(let i=0;i<15;i++) setTimeout(createEmoji, i*100);
setInterval(createEmoji, 300);
`}
<\/script>
</body></html>`;
            document.getElementById('previewFrame').srcdoc = html;
        }

        function updateCheckout() {
            const name = document.getElementById('recipientName').value || 'Name';
            const question = document.getElementById('proposalQuestion').value || 'Would you be my Valentine?';
            const slug = document.getElementById('domainSlug').value || name.toLowerCase().replace(/[^a-z0-9]/g, '');
            let total = 4.99 + (hasPhotos ? 5 : 0) + (hasMusic ? 5 : 0);
            let tierName = 'Basic';
            if (hasPhotos && hasMusic) tierName = 'Photo+ & Music';
            else if (hasPhotos) tierName = 'Photo+';
            else if (hasMusic) tierName = 'Basic + Music';
            document.getElementById('summaryPlan').textContent = tierName;
            document.getElementById('summaryLink').textContent = 'willubewith.me/' + slug;
            document.getElementById('summaryPhotos').textContent = hasPhotos ? 'Custom photos' : 'Illustrations';
            document.getElementById('summaryMusic').textContent = hasMusic ? 'Yes' : 'None';
            document.getElementById('summaryHosting').textContent = (hasPhotos || hasMusic) ? '1 year' : '30 days';
            document.getElementById('summaryTotal').textContent = 'â‚¬' + total.toFixed(2);
            document.getElementById('checkoutName').textContent = name;
            document.getElementById('checkoutQuestion').textContent = question + ' ğŸ’•';
            document.getElementById('payBtn').textContent = 'Pay â‚¬' + total.toFixed(2) + ' ğŸ’•';
        }

        async function processPayment() {
            const email = document.getElementById('paymentEmail').value;
            if (!email) { alert('Please enter your email'); return; }
            
            const payBtn = document.getElementById('payBtn');
            payBtn.textContent = 'Processing... ğŸ’•';
            payBtn.disabled = true;
            
            // D'abord sauvegarder la page dans Supabase
            const saveResult = await savePage();
            
            if (!saveResult.success) {
                alert(saveResult.error || 'Error saving your page. Please try again.');
                payBtn.textContent = 'Pay ğŸ’•';
                payBtn.disabled = false;
                return;
            }
            
            // Calculer le montant
            let total = 4.99 + (hasPhotos ? 5 : 0) + (hasMusic ? 5 : 0);
            let plan = 'Basic';
            if (hasPhotos && hasMusic) plan = 'Photo+ & Music';
            else if (hasPhotos) plan = 'Photo+';
            else if (hasMusic) plan = 'Music';
            
            const slug = document.getElementById('domainSlug').value || document.getElementById('recipientName').value.toLowerCase().replace(/[^a-z0-9]/g, '');
            
            try {
                // Appeler l'API Stripe
                const response = await fetch('/api/create-checkout', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        amount: Math.round(total * 100), // en centimes
                        email: email,
                        slug: slug,
                        plan: plan
                    })
                });
                
                const data = await response.json();
                
                if (data.url) {
                    // Rediriger vers Stripe Checkout
                    window.location.href = data.url;
                } else {
                    throw new Error(data.error || 'Payment error');
                }
            } catch (error) {
                console.error('Payment error:', error);
                alert('Payment error. Please try again.');
                payBtn.textContent = 'Pay ğŸ’•';
                payBtn.disabled = false;
            }
        }

        function updateSuccess() {
            const slug = document.getElementById('domainSlug').value || document.getElementById('recipientName').value.toLowerCase().replace(/[^a-z0-9]/g, '') || 'your-page';
            document.getElementById('finalLink').value = 'willubewith.me/' + slug;
        }

        function copyLink() {
            const link = document.getElementById('finalLink');
            link.select();
            document.execCommand('copy');
            alert('Link copied! ğŸ’•');
        }

        function viewMyPage() {
            const link = document.getElementById('finalLink').value;
            if (link && link !== 'willubewith.me/your-page') {
                window.open('https://' + link, '_blank');
            } else if (currentPageSlug) {
                window.open('https://willubewith.me/' + currentPageSlug, '_blank');
            } else {
                alert('No page link found');
            }
        }

        function shareWhatsApp() {
            const link = 'https://' + document.getElementById('finalLink').value;
            window.open('https://wa.me/?text=I have something to ask you... ğŸ’• ' + link, '_blank');
        }

        function shareSMS() {
            const link = 'https://' + document.getElementById('finalLink').value;
            window.open('sms:?body=I have something to ask you... ğŸ’• ' + link, '_blank');
        }

        function setRating(rating) {
            userRating = rating;
            document.querySelectorAll('#starRating span').forEach((star, i) => {
                star.classList.toggle('active', i < rating);
            });
        }

        function submitReview() {
            const text = document.getElementById('reviewText').value;
            const name = document.getElementById('reviewerName').value;
            if (!userRating) { alert('Please select a rating'); return; }
            if (!text) { alert('Please write a review'); return; }
            if (!name) { alert('Please enter your name'); return; }
            alert('Thank you for your review! ğŸ’•\n\n' + userRating + ' stars\n"' + text + '"\n- ' + name);
            document.getElementById('reviewText').value = '';
            document.getElementById('reviewerName').value = '';
            setRating(0);
        }

        updatePreview();
        updatePricing();

        // Simple page navigation
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            window.scrollTo(0, 0);
            if (pageId === 'editor') updatePreview();
            if (pageId === 'checkout') updateCheckout();
            if (pageId === 'success') updateSuccess();
        }

        // ==================== SOCIAL PROOF ====================
        const socialProofData = {
            en: {
                firstNames: {
                    male: ['James', 'John', 'Michael', 'David', 'Chris', 'Daniel', 'Matthew', 'Andrew', 'Joshua', 'Ryan', 'Brandon', 'Tyler', 'Kevin', 'Jason', 'Justin', 'Austin', 'Kyle', 'Brian', 'Eric', 'Adam', 'Nick', 'Jake', 'Sean', 'Alex', 'Ben', 'Sam', 'Tom', 'Jack', 'Luke', 'Ethan'],
                    female: ['Emma', 'Olivia', 'Sophia', 'Isabella', 'Mia', 'Charlotte', 'Emily', 'Ashley', 'Sarah', 'Jessica', 'Amanda', 'Jennifer', 'Lauren', 'Brittany', 'Samantha', 'Stephanie', 'Rachel', 'Hannah', 'Megan', 'Nicole', 'Kayla', 'Amber', 'Tiffany', 'Natalie', 'Alyssa', 'Taylor', 'Chloe', 'Grace', 'Lily', 'Zoe']
                },
                cities: [
                    {name: 'New York', flag: 'ğŸ‡ºğŸ‡¸'}, {name: 'Los Angeles', flag: 'ğŸ‡ºğŸ‡¸'}, {name: 'Chicago', flag: 'ğŸ‡ºğŸ‡¸'}, {name: 'Houston', flag: 'ğŸ‡ºğŸ‡¸'}, {name: 'Miami', flag: 'ğŸ‡ºğŸ‡¸'}, {name: 'Seattle', flag: 'ğŸ‡ºğŸ‡¸'}, {name: 'Boston', flag: 'ğŸ‡ºğŸ‡¸'}, {name: 'Denver', flag: 'ğŸ‡ºğŸ‡¸'}, {name: 'Atlanta', flag: 'ğŸ‡ºğŸ‡¸'}, {name: 'San Francisco', flag: 'ğŸ‡ºğŸ‡¸'}, {name: 'Austin', flag: 'ğŸ‡ºğŸ‡¸'}, {name: 'Portland', flag: 'ğŸ‡ºğŸ‡¸'},
                    {name: 'London', flag: 'ğŸ‡¬ğŸ‡§'}, {name: 'Manchester', flag: 'ğŸ‡¬ğŸ‡§'}, {name: 'Edinburgh', flag: 'ğŸ‡¬ğŸ‡§'},
                    {name: 'Sydney', flag: 'ğŸ‡¦ğŸ‡º'}, {name: 'Melbourne', flag: 'ğŸ‡¦ğŸ‡º'},
                    {name: 'Toronto', flag: 'ğŸ‡¨ğŸ‡¦'}, {name: 'Vancouver', flag: 'ğŸ‡¨ğŸ‡¦'},
                    {name: 'Dublin', flag: 'ğŸ‡®ğŸ‡ª'}
                ],
                occasions: ['Valentine', 'marriage proposal ğŸ’', 'first date', 'trip together âœˆï¸', 'moving in together ğŸ ', 'adopting a puppy ğŸ•', 'movie night ğŸ¬', 'romantic dinner ğŸ·', 'surprise weekend', 'prom date ğŸ“'],
                timesAgo: ['just now', '1 min ago', '2 min ago', '3 min ago', '5 min ago', '8 min ago', '10 min ago', '12 min ago', '15 min ago'],
                messages: {
                    created: 'just created a page for',
                    yes: 'said YES! ğŸ‰',
                    yesReceived: 'received a YES',
                    viewing: 'people are viewing a page right now'
                }
            },
            fr: {
                firstNames: {
                    male: ['Thomas', 'Lucas', 'Hugo', 'Nathan', 'Louis', 'Gabriel', 'RaphaÃ«l', 'Arthur', 'Noah', 'Jules', 'Adam', 'LÃ©o', 'Ethan', 'Paul', 'Mathis', 'Alexandre', 'Maxime', 'Antoine', 'ThÃ©o', 'Marco', 'David', 'Kevin', 'Julien', 'Pierre', 'Mohamed', 'Karim', 'Youssef', 'Mehdi', 'Romain', 'Quentin'],
                    female: ['Emma', 'LÃ©a', 'ChloÃ©', 'Manon', 'Camille', 'Sarah', 'Jade', 'Louise', 'Alice', 'Lina', 'Rose', 'Anna', 'InÃ¨s', 'Eva', 'ZoÃ©', 'Clara', 'Marie', 'Sofia', 'Julia', 'Charlotte', 'Juliette', 'Lucie', 'Pauline', 'Laura', 'OcÃ©ane', 'AnaÃ¯s', 'Margot', 'Yasmine', 'Fatima', 'Amira']
                },
                cities: [
                    {name: 'Paris', flag: 'ğŸ‡«ğŸ‡·'}, {name: 'Lyon', flag: 'ğŸ‡«ğŸ‡·'}, {name: 'Marseille', flag: 'ğŸ‡«ğŸ‡·'}, {name: 'Bordeaux', flag: 'ğŸ‡«ğŸ‡·'}, {name: 'Toulouse', flag: 'ğŸ‡«ğŸ‡·'}, {name: 'Nice', flag: 'ğŸ‡«ğŸ‡·'}, {name: 'Nantes', flag: 'ğŸ‡«ğŸ‡·'}, {name: 'Strasbourg', flag: 'ğŸ‡«ğŸ‡·'}, {name: 'Montpellier', flag: 'ğŸ‡«ğŸ‡·'}, {name: 'Lille', flag: 'ğŸ‡«ğŸ‡·'}, {name: 'Rennes', flag: 'ğŸ‡«ğŸ‡·'}, {name: 'Grenoble', flag: 'ğŸ‡«ğŸ‡·'}, {name: 'Dijon', flag: 'ğŸ‡«ğŸ‡·'}, {name: 'Angers', flag: 'ğŸ‡«ğŸ‡·'}, {name: 'Tours', flag: 'ğŸ‡«ğŸ‡·'},
                    {name: 'Bruxelles', flag: 'ğŸ‡§ğŸ‡ª'},
                    {name: 'GenÃ¨ve', flag: 'ğŸ‡¨ğŸ‡­'}, {name: 'Lausanne', flag: 'ğŸ‡¨ğŸ‡­'},
                    {name: 'MontrÃ©al', flag: 'ğŸ‡¨ğŸ‡¦'},
                    {name: 'Monaco', flag: 'ğŸ‡²ğŸ‡¨'}
                ],
                occasions: ['Saint-Valentin', 'demande en mariage ğŸ’', 'premier rendez-vous', 'voyage ensemble âœˆï¸', 'emmÃ©nager ensemble ğŸ ', 'adopter un chien ğŸ•', 'soirÃ©e cinÃ© ğŸ¬', 'dÃ®ner romantique ğŸ·', 'week-end surprise', 'bal de promo ğŸ“'],
                timesAgo: ['Ã  l\'instant', 'il y a 1 min', 'il y a 2 min', 'il y a 3 min', 'il y a 5 min', 'il y a 8 min', 'il y a 10 min', 'il y a 12 min', 'il y a 15 min'],
                messages: {
                    created: 'vient de crÃ©er sa page',
                    yes: 'a dit OUI ! ğŸ‰',
                    yesReceived: 'a reÃ§u un OUI',
                    viewing: 'personnes regardent une page en ce moment'
                }
            },
            es: {
                firstNames: {
                    male: ['Carlos', 'Miguel', 'JosÃ©', 'Antonio', 'Juan', 'David', 'Pedro', 'Pablo', 'Alejandro', 'Daniel', 'Sergio', 'Fernando', 'Jorge', 'Luis', 'Javier', 'Rafael', 'Manuel', 'Francisco', 'Diego', 'AdriÃ¡n', 'Ãlvaro', 'Marcos', 'IvÃ¡n', 'RubÃ©n', 'Hugo', 'Mario', 'Ã“scar', 'RaÃºl', 'VÃ­ctor', 'AndrÃ©s'],
                    female: ['MarÃ­a', 'Carmen', 'Ana', 'Laura', 'LucÃ­a', 'Marta', 'Sara', 'Paula', 'Elena', 'SofÃ­a', 'Isabel', 'Claudia', 'Andrea', 'Cristina', 'Alba', 'Natalia', 'Patricia', 'Julia', 'Irene', 'Beatriz', 'Daniela', 'Carla', 'Nuria', 'RocÃ­o', 'Silvia', 'Raquel', 'Marina', 'Lorena', 'Alicia', 'Eva']
                },
                cities: [
                    {name: 'Madrid', flag: 'ğŸ‡ªğŸ‡¸'}, {name: 'Barcelona', flag: 'ğŸ‡ªğŸ‡¸'}, {name: 'Valencia', flag: 'ğŸ‡ªğŸ‡¸'}, {name: 'Sevilla', flag: 'ğŸ‡ªğŸ‡¸'}, {name: 'MÃ¡laga', flag: 'ğŸ‡ªğŸ‡¸'}, {name: 'Bilbao', flag: 'ğŸ‡ªğŸ‡¸'}, {name: 'Zaragoza', flag: 'ğŸ‡ªğŸ‡¸'}, {name: 'Alicante', flag: 'ğŸ‡ªğŸ‡¸'}, {name: 'Granada', flag: 'ğŸ‡ªğŸ‡¸'}, {name: 'CÃ³rdoba', flag: 'ğŸ‡ªğŸ‡¸'}, {name: 'Murcia', flag: 'ğŸ‡ªğŸ‡¸'}, {name: 'Palma', flag: 'ğŸ‡ªğŸ‡¸'}, {name: 'Salamanca', flag: 'ğŸ‡ªğŸ‡¸'}, {name: 'San SebastiÃ¡n', flag: 'ğŸ‡ªğŸ‡¸'}, {name: 'Ibiza', flag: 'ğŸ‡ªğŸ‡¸'}, {name: 'Tenerife', flag: 'ğŸ‡ªğŸ‡¸'}, {name: 'Marbella', flag: 'ğŸ‡ªğŸ‡¸'}, {name: 'Toledo', flag: 'ğŸ‡ªğŸ‡¸'}, {name: 'CÃ¡diz', flag: 'ğŸ‡ªğŸ‡¸'}, {name: 'Girona', flag: 'ğŸ‡ªğŸ‡¸'},
                    {name: 'MÃ©xico DF', flag: 'ğŸ‡²ğŸ‡½'}, {name: 'CancÃºn', flag: 'ğŸ‡²ğŸ‡½'},
                    {name: 'Buenos Aires', flag: 'ğŸ‡¦ğŸ‡·'},
                    {name: 'BogotÃ¡', flag: 'ğŸ‡¨ğŸ‡´'}, {name: 'MedellÃ­n', flag: 'ğŸ‡¨ğŸ‡´'},
                    {name: 'Santiago', flag: 'ğŸ‡¨ğŸ‡±'},
                    {name: 'Lima', flag: 'ğŸ‡µğŸ‡ª'}
                ],
                occasions: ['San ValentÃ­n', 'propuesta de matrimonio ğŸ’', 'primera cita', 'viaje juntos âœˆï¸', 'mudarse juntos ğŸ ', 'adoptar un perrito ğŸ•', 'noche de cine ğŸ¬', 'cena romÃ¡ntica ğŸ·', 'fin de semana sorpresa', 'baile de graduaciÃ³n ğŸ“'],
                timesAgo: ['ahora mismo', 'hace 1 min', 'hace 2 min', 'hace 3 min', 'hace 5 min', 'hace 8 min', 'hace 10 min', 'hace 12 min', 'hace 15 min'],
                messages: {
                    created: 'acaba de crear su pÃ¡gina para',
                    yes: 'Â¡dijo SÃ! ğŸ‰',
                    yesReceived: 'recibiÃ³ un SÃ',
                    viewing: 'personas estÃ¡n viendo una pÃ¡gina ahora'
                }
            },
            de: {
                firstNames: {
                    male: ['Lukas', 'Leon', 'Maximilian', 'Felix', 'Paul', 'Jonas', 'Tim', 'David', 'Niklas', 'Jan', 'Moritz', 'Simon', 'Florian', 'Alexander', 'Tobias', 'Sebastian', 'Philipp', 'Julian', 'Michael', 'Thomas', 'Daniel', 'Christian', 'Stefan', 'Matthias', 'Patrick', 'Kevin', 'Marcel', 'Dennis', 'Benjamin', 'Marco'],
                    female: ['Emma', 'Mia', 'Hannah', 'Sofia', 'Anna', 'Lea', 'Lena', 'Marie', 'Laura', 'Julia', 'Lisa', 'Sarah', 'Lina', 'Emilia', 'Amelie', 'Johanna', 'Katharina', 'Clara', 'Charlotte', 'Nina', 'Jana', 'Melanie', 'Sabrina', 'Christina', 'Stefanie', 'Jessica', 'Sandra', 'Nicole', 'Nadine', 'Vanessa']
                },
                cities: [
                    {name: 'Berlin', flag: 'ğŸ‡©ğŸ‡ª'}, {name: 'MÃ¼nchen', flag: 'ğŸ‡©ğŸ‡ª'}, {name: 'Hamburg', flag: 'ğŸ‡©ğŸ‡ª'}, {name: 'KÃ¶ln', flag: 'ğŸ‡©ğŸ‡ª'}, {name: 'Frankfurt', flag: 'ğŸ‡©ğŸ‡ª'}, {name: 'Stuttgart', flag: 'ğŸ‡©ğŸ‡ª'}, {name: 'DÃ¼sseldorf', flag: 'ğŸ‡©ğŸ‡ª'}, {name: 'Leipzig', flag: 'ğŸ‡©ğŸ‡ª'}, {name: 'Dresden', flag: 'ğŸ‡©ğŸ‡ª'}, {name: 'Hannover', flag: 'ğŸ‡©ğŸ‡ª'}, {name: 'NÃ¼rnberg', flag: 'ğŸ‡©ğŸ‡ª'}, {name: 'Bremen', flag: 'ğŸ‡©ğŸ‡ª'}, {name: 'Bonn', flag: 'ğŸ‡©ğŸ‡ª'}, {name: 'MÃ¼nster', flag: 'ğŸ‡©ğŸ‡ª'}, {name: 'Freiburg', flag: 'ğŸ‡©ğŸ‡ª'},
                    {name: 'Wien', flag: 'ğŸ‡¦ğŸ‡¹'}, {name: 'Salzburg', flag: 'ğŸ‡¦ğŸ‡¹'}, {name: 'Innsbruck', flag: 'ğŸ‡¦ğŸ‡¹'}, {name: 'Graz', flag: 'ğŸ‡¦ğŸ‡¹'},
                    {name: 'ZÃ¼rich', flag: 'ğŸ‡¨ğŸ‡­'}
                ],
                occasions: ['Valentinstag', 'Heiratsantrag ğŸ’', 'erstes Date', 'Reise zusammen âœˆï¸', 'zusammenziehen ğŸ ', 'einen Hund adoptieren ğŸ•', 'Kinoabend ğŸ¬', 'romantisches Abendessen ğŸ·', 'Ãœberraschungswochenende', 'Abschlussball ğŸ“'],
                timesAgo: ['gerade eben', 'vor 1 Min', 'vor 2 Min', 'vor 3 Min', 'vor 5 Min', 'vor 8 Min', 'vor 10 Min', 'vor 12 Min', 'vor 15 Min'],
                messages: {
                    created: 'hat gerade eine Seite erstellt fÃ¼r',
                    yes: 'hat JA gesagt! ğŸ‰',
                    yesReceived: 'hat ein JA bekommen',
                    viewing: 'Personen sehen sich gerade eine Seite an'
                }
            }
        };

        const avatars = ['ğŸ‘¨', 'ğŸ‘©', 'ğŸ§‘', 'ğŸ‘±â€â™‚ï¸', 'ğŸ‘±â€â™€ï¸', 'ğŸ‘¨â€ğŸ¦±', 'ğŸ‘©â€ğŸ¦±', 'ğŸ§”', 'ğŸ‘©â€ğŸ¦°', 'ğŸ‘¨â€ğŸ¦°', 'ğŸ§‘â€ğŸ¦±', 'ğŸ‘§', 'ğŸ‘¦', 'ğŸ™‹â€â™‚ï¸', 'ğŸ™‹â€â™€ï¸', 'ğŸ’â€â™‚ï¸', 'ğŸ’â€â™€ï¸', 'ğŸ™â€â™‚ï¸', 'ğŸ™â€â™€ï¸', 'ğŸ§‘â€ğŸ¦°'];

        let currentLang = 'en';

        function getRandomItem(arr) {
            return arr[Math.floor(Math.random() * arr.length)];
        }

        function getCurrentLang() {
            const selector = document.querySelector('.lang-selector');
            if (selector) {
                const val = selector.value;
                if (val.includes('FR') || val.includes('ğŸ‡«ğŸ‡·')) return 'fr';
                if (val.includes('ES') || val.includes('ğŸ‡ªğŸ‡¸')) return 'es';
                if (val.includes('DE') || val.includes('ğŸ‡©ğŸ‡ª')) return 'de';
            }
            return 'en';
        }

        function getRandomName(lang) {
            const data = socialProofData[lang] || socialProofData.en;
            const isMale = Math.random() > 0.5;
            return {
                name: getRandomItem(isMale ? data.firstNames.male : data.firstNames.female),
                gender: isMale ? 'male' : 'female'
            };
        }

        function generateSocialProof() {
            const lang = getCurrentLang();
            const data = socialProofData[lang] || socialProofData.en;
            
            const types = ['created', 'yes', 'viewing', 'created', 'yes', 'created'];
            const type = getRandomItem(types);
            const person = getRandomName(lang);
            const cityData = getRandomItem(data.cities);
            const city = cityData.name;
            const country = cityData.flag;
            const time = getRandomItem(data.timesAgo);
            const avatar = getRandomItem(avatars);
            const occasion = getRandomItem(data.occasions);

            let title, message, icon;

            switch(type) {
                case 'created':
                    title = `${person.name} - ${city} ${country}`;
                    message = `${data.messages.created} ${occasion}`;
                    icon = 'ğŸ’•';
                    break;
                case 'yes':
                    const targetPerson = getRandomName(lang);
                    title = `${targetPerson.name} ${data.messages.yes}`;
                    message = `${person.name} - ${city} ${data.messages.yesReceived}`;
                    icon = 'âœ…';
                    break;
                case 'viewing':
                    const viewCount = Math.floor(Math.random() * 50) + 10;
                    title = `${viewCount} ${data.messages.viewing.split(' ')[0]}`;
                    message = data.messages.viewing.split(' ').slice(1).join(' ');
                    icon = 'ğŸ‘€';
                    break;
            }

            return { type, title, message, time, avatar, icon };
        }

        function showSocialProofToast() {
            const container = document.getElementById('socialProofContainer');
            if (!container) return;
            
            const proof = generateSocialProof();

            const toast = document.createElement('div');
            toast.className = `social-proof-toast toast-${proof.type}`;
            toast.innerHTML = `
                <div class="toast-avatar">${proof.avatar}</div>
                <div class="toast-content">
                    <div class="toast-title">${proof.title}</div>
                    <div class="toast-message">${proof.message}</div>
                    <div class="toast-time">${proof.time}</div>
                </div>
                <div class="toast-icon">${proof.icon}</div>
            `;

            container.appendChild(toast);

            setTimeout(() => {
                if (toast.parentNode) {
                    toast.remove();
                }
            }, 5000);

            while (container.children.length > 2) {
                container.firstChild.remove();
            }
        }

        // Language selector listener
        document.querySelector('.lang-selector')?.addEventListener('change', function() {
            currentLang = getCurrentLang();
        });

        // Start social proof after 3 seconds
        setTimeout(() => {
            showSocialProofToast();
            
            function scheduleNextToast() {
                const delay = Math.random() * 20000 + 25000;
                setTimeout(() => {
                    showSocialProofToast();
                    scheduleNextToast();
                }, delay);
            }
            scheduleNextToast();
        }, 3000);

        // ==================== ROUTING - LOAD PERSONALIZED PAGES ====================
        // Variable pour stocker le slug actuel
        let currentPageSlug = '';

        async function checkForPersonalizedPage() {
            const path = window.location.pathname;
            const slug = path.replace(/^\//, '').toLowerCase().split('/')[0];
            const urlParams = new URLSearchParams(window.location.search);
            
            console.log('Path:', path);
            console.log('Slug:', slug);
            
            // GÃ©rer le retour de Stripe (success avec slug en paramÃ¨tre)
            if (slug === 'success' && urlParams.get('slug')) {
                console.log('Payment success, showing success page');
                const successSlug = urlParams.get('slug');
                currentPageSlug = successSlug;
                document.getElementById('landing').classList.add('active');
                // Mettre Ã  jour le lien final
                setTimeout(() => {
                    document.getElementById('finalLink').value = 'willubewith.me/' + successSlug;
                    showPage('success');
                }, 100);
                return;
            }
            
            // Si on est sur la racine ou une page systÃ¨me, afficher la page d'accueil
            if (!slug || slug === '' || slug === 'index.html' || slug === 'create' || slug === 'checkout' || slug === 'success') {
                console.log('Showing landing page');
                document.getElementById('landing').classList.add('active');
                return;
            }
            
            // Chercher la page dans Supabase
            try {
                console.log('Loading page from Supabase:', slug);
                const result = await loadPage(slug);
                console.log('Supabase result:', result);
                
                if (result.success && result.page) {
                    // Afficher la page personnalisÃ©e
                    console.log('Displaying personalized page');
                    displayPersonalizedPage(result.page);
                } else {
                    // Page non trouvÃ©e, afficher la page d'accueil
                    console.log('Page not found, showing landing');
                    document.getElementById('landing').classList.add('active');
                }
            } catch (error) {
                console.error('Error loading page:', error);
                document.getElementById('landing').classList.add('active');
            }
        }

        function displayPersonalizedPage(page) {
            // Cacher tout le contenu normal
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            const header = document.querySelector('.site-header');
            if (header) header.style.display = 'none';
            const hearts = document.querySelector('.floating-hearts');
            if (hearts) hearts.style.display = 'none';
            const toast = document.getElementById('socialProofToast');
            if (toast) toast.style.display = 'none';
            
            // CrÃ©er la page personnalisÃ©e
            const container = document.createElement('div');
            container.id = 'personalizedPage';
            container.style.cssText = 'position:fixed;top:0;left:0;width:100%;height:100%;z-index:10000;';
            
            const vibeColors = { romantic: { bg: '#ffeef8', primary: '#e91e63', secondary: '#ff69b4' }, elegant: { bg: '#fff8e7', primary: '#d4af37', secondary: '#aa8c2c' }, playful: { bg: '#fff3e0', primary: '#ff6b6b', secondary: '#feca57' }, minimal: { bg: '#f8f9fa', primary: '#333', secondary: '#666' }, dark: { bg: '#1a1a2e', primary: '#e94560', secondary: '#ff69b4' }, ocean: { bg: '#e0f7fa', primary: '#00796b', secondary: '#0097a7' } };
            const v = vibeColors[page.vibe] || vibeColors.romantic;
            const isDark = page.vibe === 'dark';
            
            let photoContent;
            if (page.proposal_photo_url) {
                photoContent = '<img src="' + page.proposal_photo_url + '" style="width:100%;height:100%;object-fit:cover;border-radius:12px;">';
            } else {
                photoContent = 'ğŸ’•';
            }
            
            container.innerHTML = `
                <iframe id="personalizedFrame" style="width:100%;height:100%;border:none;"></iframe>
            `;
            
            document.body.appendChild(container);
            
            const iframe = document.getElementById('personalizedFrame');
            const html = generatePageHTML(page, 'proposal', v, isDark, photoContent);
            iframe.srcdoc = html;
        }

        function generatePageHTML(page, mode, v, isDark, photoContent) {
            const name = page.recipient_name || 'Name';
            const question = page.question || 'Would you be my Valentine?';
            const emojis = page.emojis || 'ğŸ’âœ¨ğŸ’•';
            const celebration = page.celebration_text || 'Yaaay!';
            const response = page.response_message || 'You just made me the happiest person!';
            const love = page.love_text || 'I love you!';
            
            let responsePhotoContent = photoContent;
            if (mode === 'response' && page.response_photo_url) {
                responsePhotoContent = '<img src="' + page.response_photo_url + '" style="width:100%;height:100%;object-fit:cover;border-radius:12px;">';
            }
            
            return `<!DOCTYPE html><html><head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Bangers&family=Comic+Neue:wght@700&family=Fredoka+One&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-5px)}}
@keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.03)}}
@keyframes heartBeat{0%{transform:scale(1)}14%{transform:scale(1.2)}28%{transform:scale(1)}42%{transform:scale(1.2)}70%{transform:scale(1)}}
@keyframes disco{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
@keyframes shine{0%{transform:translateX(-100%) rotate(45deg)}100%{transform:translateX(100%) rotate(45deg)}}
@keyframes marquee{0%{transform:translateX(0)}100%{transform:translateX(-50%)}}
@keyframes floatHeart{0%,100%{transform:translateY(0) scale(1)}50%{transform:translateY(-8px) scale(1.1)}}

body{
  min-height:100vh;
  background:${isDark ? 
    'linear-gradient(135deg,#0a0015,#1a0a30,#2d1050,#1a0a30,#0a0015)' : 
    'linear-gradient(135deg,#ffb6c1,#ffc0cb,#ffb6c1,#fff0f5,#ffc0cb)'};
  background-size:400% 400%;
  animation:disco 8s ease infinite;
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  font-family:"Comic Neue",cursive;padding:20px;
  color:${isDark?'#fff':'#333'};overflow:hidden;position:relative;
  text-align:center;
}
body::before{
  content:'';
  position:absolute;
  top:0;left:0;right:0;bottom:0;
  background-image:
    radial-gradient(circle at 10% 20%, rgba(255,255,255,0.4) 0%, transparent 25%),
    radial-gradient(circle at 85% 15%, rgba(255,255,255,0.3) 0%, transparent 20%),
    radial-gradient(circle at 70% 80%, rgba(255,255,255,0.35) 0%, transparent 22%),
    radial-gradient(circle at 25% 75%, rgba(255,255,255,0.3) 0%, transparent 18%),
    radial-gradient(circle at 50% 50%, rgba(255,182,193,0.2) 0%, transparent 50%);
  pointer-events:none;
  z-index:0;
}
.deco-heart{position:fixed;font-size:1.2rem;opacity:0.5;animation:floatHeart 3s ease-in-out infinite;pointer-events:none;z-index:0}
.deco-star{position:fixed;color:#fff;font-size:0.9rem;opacity:0.7;animation:pulse 2s ease-in-out infinite;pointer-events:none;z-index:0}
.photo{width:95%;max-width:400px;height:50vh;max-height:500px;background:linear-gradient(135deg,${v.secondary},${v.primary});border-radius:15px;margin:0 auto 15px;display:flex;align-items:center;justify-content:center;font-size:2rem;border:4px solid #fff;box-shadow:0 5px 20px rgba(0,0,0,0.2);overflow:hidden}
.photo img{width:100%;height:100%;object-fit:cover}
.photo svg{width:80%;height:80%}
.emoji-header{font-size:1.2rem;margin-bottom:8px}
.name{font-family:'Bangers',cursive;font-size:2rem;letter-spacing:2px;background:linear-gradient(135deg,${v.primary},${v.secondary},#ff69b4);background-size:200% 200%;-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:8px;text-transform:uppercase}
.question{color:${isDark?'#fff':v.primary};font-weight:700;font-size:1.2rem;margin-bottom:15px;line-height:1.3}
.buttons{display:flex;gap:15px;justify-content:center;position:relative;height:50px;align-items:center}
.btn-yes{background:linear-gradient(135deg,${v.secondary},${v.primary},#ff1493);background-size:200% 200%;color:#fff;padding:15px 40px;border-radius:30px;font-weight:700;font-size:1.1rem;cursor:pointer;border:none;font-family:'Fredoka One',cursive;text-transform:uppercase;box-shadow:0 4px 15px ${v.primary}60;position:relative;overflow:hidden}
.btn-yes::before{content:'';position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:linear-gradient(transparent,rgba(255,255,255,0.3),transparent);transform:rotate(45deg);animation:shine 2s infinite}
.btn-no{background:linear-gradient(135deg,#e0e0e0,#c0c0c0);color:#666;padding:12px 25px;border-radius:25px;font-size:0.9rem;cursor:pointer;border:2px solid #b0b0b0;font-family:'Comic Neue',cursive;font-weight:700;transition:all .15s ease-out}
.marquee{position:fixed;bottom:10px;left:0;width:200%;font-family:'Bangers',cursive;font-size:0.8rem;color:${v.primary};white-space:nowrap;animation:marquee 12s linear infinite;opacity:0.5}
.corner{position:fixed;font-size:1.5rem;opacity:0.4;animation:heartBeat 2s infinite}
.celebration{font-family:'Bangers',cursive;font-size:2rem;color:${isDark?'#fff':v.primary};text-shadow:2px 2px 0 ${v.secondary};letter-spacing:2px;margin-bottom:10px}
.response-text{color:${isDark?'#fff':v.secondary};font-size:1rem;margin:10px 0;font-weight:700}
.love-text{font-family:'Pacifico',cursive;font-size:1.5rem;background:linear-gradient(135deg,${v.primary},#ff1493,${v.secondary});-webkit-background-clip:text;-webkit-text-fill-color:transparent}

/* Mobile */
@media (max-width: 600px) {
  .photo{width:90%;height:45vh;max-height:350px}
  .emoji-header{font-size:0.9rem}
  .name{font-size:1.5rem}
  .question{font-size:0.9rem;margin-bottom:10px}
  .btn-yes{padding:12px 30px;font-size:0.95rem}
  .btn-no{padding:10px 20px;font-size:0.8rem}
  .celebration{font-size:1.5rem}
  .response-text{font-size:0.85rem}
  .love-text{font-size:1.2rem}
  .corner{font-size:1.2rem}
}
</style>
</head>
<body>
<div class="corner" style="top:10px;left:10px">ğŸ’</div>
<div class="corner" style="top:10px;right:10px">ğŸ’–</div>
<div class="corner" style="bottom:35px;left:10px">ğŸ’—</div>
<div class="corner" style="bottom:35px;right:10px">ğŸ’•</div>
<div class="deco-heart" style="top:15%;left:8%">ğŸ’•</div>
<div class="deco-heart" style="top:25%;right:12%;animation-delay:0.5s">ğŸ’—</div>
<div class="deco-heart" style="top:60%;left:5%;animation-delay:1s">ğŸ’–</div>
<div class="deco-heart" style="top:70%;right:8%;animation-delay:1.5s">ğŸ’•</div>
<div class="deco-star" style="top:12%;left:25%">âœ¦</div>
<div class="deco-star" style="top:8%;right:30%;animation-delay:0.3s">âœ§</div>
<div class="deco-star" style="top:50%;left:3%;animation-delay:0.6s">âœ¦</div>
<div class="deco-star" style="top:45%;right:5%;animation-delay:0.9s">âœ§</div>
<div class="deco-star" style="bottom:25%;left:15%;animation-delay:1.2s">âœ¦</div>
<div class="deco-star" style="bottom:20%;right:20%;animation-delay:1.5s">âœ§</div>
<div class="deco-star" style="top:18%;left:5%">â­</div>
<div class="deco-star" style="top:5%;left:45%;animation-delay:0.4s">âœ¦</div>
<div class="deco-star" style="top:30%;right:3%;animation-delay:0.7s">â­</div>
<div class="deco-star" style="bottom:40%;left:8%;animation-delay:1s">âœ§</div>
<div class="deco-star" style="bottom:10%;right:12%;animation-delay:1.3s">âœ¦</div>
<div class="deco-star" style="top:75%;left:18%;animation-delay:0.2s">â­</div>
${mode==='proposal' ? `
<div class="emoji-header">${emojis}</div>
<div class="photo">${photoContent}</div>
<h1 class="name">${name}</h1>
<p class="question">${question} ğŸ’•</p>
<div class="buttons">
  <button class="btn-yes" onclick="showResponse()">YES! ğŸ’–</button>
  <button class="btn-no" id="noBtn">no...</button>
</div>
<div class="marquee">ğŸ’• SAY YES ğŸ’• SAY YES ğŸ’• SAY YES ğŸ’• SAY YES ğŸ’• SAY YES ğŸ’•</div>
` : `
<div class="emoji-header">ğŸ‰âœ¨${emojis}âœ¨ğŸ‰</div>
<div class="photo">${responsePhotoContent}</div>
<h1 class="celebration">${celebration} ğŸ‰</h1>
<p class="response-text">${response}</p>
<p class="love-text">${love} ğŸ’•</p>
<div class="marquee">ğŸ‰ YES! ğŸ’• LOVE WINS ğŸ‰ YES! ğŸ’• LOVE WINS ğŸ‰</div>
`}
<script>
${mode==='proposal' ? `
const noBtn=document.getElementById("noBtn");
const yesBtn=document.querySelector(".btn-yes");
let scale=1;
let yesScale=1;
document.addEventListener("mousemove",function(e){
  if(!noBtn)return;
  const rect=noBtn.getBoundingClientRect();
  const cx=rect.left+rect.width/2;
  const cy=rect.top+rect.height/2;
  const dx=e.clientX-cx;
  const dy=e.clientY-cy;
  const dist=Math.sqrt(dx*dx+dy*dy);
  if(dist<70){
    const angle=Math.atan2(dy,dx);
    const moveX=-Math.cos(angle)*25;
    const moveY=-Math.sin(angle)*25;
    let newLeft=Math.max(15,Math.min(window.innerWidth-rect.width-15,rect.left+moveX));
    let newTop=Math.max(15,Math.min(window.innerHeight-rect.height-15,rect.top+moveY));
    noBtn.style.position="fixed";
    noBtn.style.left=newLeft+"px";
    noBtn.style.top=newTop+"px";
    scale=Math.max(.7,scale-.01);
    noBtn.style.transform="scale("+scale+")";
    yesScale=Math.min(1.2,yesScale+.008);
    yesBtn.style.transform="scale("+yesScale+")";
  }
});

function showResponse() {
  window.parent.postMessage('showResponse', '*');
}
` : `
const emojis = ['ğŸ’•','ğŸ’—','ğŸ’–','ğŸ‰','ğŸŠ','âœ¨','ğŸ’«','â­','ğŸ’'];
function createEmoji() {
  const e = document.createElement('div');
  e.style.cssText = 'position:fixed;font-size:'+(20+Math.random()*20)+'px;pointer-events:none;z-index:100;';
  e.style.left = Math.random()*100+'vw';
  e.style.bottom = '-30px';
  e.textContent = emojis[Math.floor(Math.random()*emojis.length)];
  document.body.appendChild(e);
  let y = -30, opacity = 1;
  function rise() {
    y += 2;
    opacity = y > window.innerHeight * 0.7 ? opacity - 0.02 : 1;
    e.style.bottom = y + 'px';
    e.style.opacity = opacity;
    if (opacity > 0) requestAnimationFrame(rise);
    else e.remove();
  }
  rise();
}
for(let i=0;i<15;i++) setTimeout(createEmoji, i*100);
setInterval(createEmoji, 300);
`}
<\/script>
</body></html>`;
        }

        // Ã‰couter le message pour afficher la rÃ©ponse
        window.addEventListener('message', async function(event) {
            if (event.data === 'showResponse') {
                const path = window.location.pathname;
                const slug = path.replace('/', '').toLowerCase();
                const result = await loadPage(slug);
                
                if (result.success && result.page) {
                    const vibeColors = { romantic: { bg: '#ffeef8', primary: '#e91e63', secondary: '#ff69b4' }, elegant: { bg: '#fff8e7', primary: '#d4af37', secondary: '#aa8c2c' }, playful: { bg: '#fff3e0', primary: '#ff6b6b', secondary: '#feca57' }, minimal: { bg: '#f8f9fa', primary: '#333', secondary: '#666' }, dark: { bg: '#1a1a2e', primary: '#e94560', secondary: '#ff69b4' }, ocean: { bg: '#e0f7fa', primary: '#00796b', secondary: '#0097a7' } };
                    const v = vibeColors[result.page.vibe] || vibeColors.romantic;
                    const isDark = result.page.vibe === 'dark';
                    
                    let photoContent = 'ğŸ’•';
                    if (result.page.response_photo_url) {
                        photoContent = '<img src="' + result.page.response_photo_url + '" style="width:100%;height:100%;object-fit:cover;border-radius:12px;">';
                    } else if (result.page.proposal_photo_url) {
                        photoContent = '<img src="' + result.page.proposal_photo_url + '" style="width:100%;height:100%;object-fit:cover;border-radius:12px;">';
                    }
                    
                    const iframe = document.getElementById('personalizedFrame');
                    const html = generatePageHTML(result.page, 'response', v, isDark, photoContent);
                    iframe.srcdoc = html;
                }
            }
        });

        // Au chargement de la page, vÃ©rifier si c'est une page personnalisÃ©e
        checkForPersonalizedPage();
    </script>
</body>
</html>
